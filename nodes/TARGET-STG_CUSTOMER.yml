fileVersion: 1
id: 78874ee5-bb87-4ba8-90f8-b208c9125afb
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: false
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 91dfc95a-6118-437b-bfa6-1945ab002ef6
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0e3bf17d-4855-482a-a629-92e70442675e
                stepCounter: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dbb3762a-d30e-4c99-9a51-1b856914f214
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a9a81b84-7791-4407-9f26-f85eaa6138e3
                stepCounter: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: da60decd-515e-4492-b584-a6f11c9b694a
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bbf1aebb-755f-4a64-82ed-653b0c4dc416
                stepCounter: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9a7073cf-1782-4b66-a8d3-0cbf70a697f5
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b2acaecf-2eb5-4296-907f-f5103cde8527
                stepCounter: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9f9c5664-c812-40a7-a4a7-534a13880dda
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e30840ff-1a0d-43d9-a732-8825e13006ce
                stepCounter: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5fdf2c6-134b-4855-99ea-041429e38245
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 322b4f67-37ca-41e1-a9e7-207d6d2bd215
                stepCounter: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12173f98-b3b5-43a6-9470-0144be841e17
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 322b4f67-37ca-41e1-a9e7-207d6d2bd215
                stepCounter: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 488b00d0-6d87-40f9-bcfb-6011330c640c
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ff0cea9c-e237-40bd-82f9-50583533bbd9
                stepCounter: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: edb692b5-f66d-4e9d-a7c8-c3a5d21f1073
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f81c93d1-303f-4c80-906f-6fe39586a761
                stepCounter: 63783d7b-27c6-45e4-b11e-3aae26234101
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 51c6042f-dbe6-4729-b6d6-c44c2773e0fd
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 58d5f23a-5da2-4b50-af1a-511c6e13d029
                stepCounter: 63783d7b-27c6-45e4-b11e-3aae26234101
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d0b4d82f-b108-4265-8fd2-528356ce0cf3
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a3e3f8f9-ce56-40f6-b842-3d72a695954a
                stepCounter: cfb9daec-8921-404e-92ae-127118a42471
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d06818f3-c9c2-414b-8139-afdb1425ddae
          stepCounter: 78874ee5-bb87-4ba8-90f8-b208c9125afb
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5a9aa1e9-5190-45f1-99d0-fc29aaccd86e
                stepCounter: cfb9daec-8921-404e-92ae-127118a42471
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 55be0d9e-e156-46ff-97d3-0d4baa0d6ff3
          NATION: 63783d7b-27c6-45e4-b11e-3aae26234101
          REGION: cfb9daec-8921-404e-92ae-127118a42471
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE-1
            nodeName: CUSTOMER
          - locationName: SOURCE-1
            nodeName: NATION
          - locationName: SOURCE-1
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
type: Node
