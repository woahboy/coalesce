fileVersion: 1
id: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3f36d428-0061-4d66-8ff8-1ab7b771a2f1
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 01c8863f-c576-4b41-94f8-5d1c41ae4d92
                stepCounter: a46ac3af-db3a-40b0-9fb2-781920b1b319
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8373a83a-c104-4a02-9397-bddd11bd9864
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29048511-7b82-4562-bc45-50d79e714ad6
                stepCounter: a46ac3af-db3a-40b0-9fb2-781920b1b319
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 746dc4a7-3976-4506-ab4c-82ed4e5be100
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dee47b32-3cf9-45da-8c01-e6592e6ec011
                stepCounter: a46ac3af-db3a-40b0-9fb2-781920b1b319
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 850121a0-6244-49e8-943d-aa51fdc8eb73
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 659097aa-da9d-4bad-953a-7de095b67ea6
                stepCounter: a46ac3af-db3a-40b0-9fb2-781920b1b319
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5ad2c9e6-2deb-4669-ba2d-b6073bb57c1c
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 757f83c8-f634-4c2d-bffb-fb08c7e34498
                stepCounter: a46ac3af-db3a-40b0-9fb2-781920b1b319
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: be15d422-ed68-41be-83e3-43961a55149e
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 68cdbcd1-bbc9-4b67-83e7-05bdefd136c4
                stepCounter: a46ac3af-db3a-40b0-9fb2-781920b1b319
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 47772393-c321-4148-b5d8-ac73fe77251c
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 68cdbcd1-bbc9-4b67-83e7-05bdefd136c4
                stepCounter: a46ac3af-db3a-40b0-9fb2-781920b1b319
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING' ,'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 94ffd6ab-a3d1-4ec4-99ea-a87c3b9b3a0f
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 526b161b-259b-4fa4-a83d-ebefa77b5485
                stepCounter: a46ac3af-db3a-40b0-9fb2-781920b1b319
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c3e4cf50-448d-446f-ab44-2ef15c9af099
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 196a8103-0cf7-49e4-a7e9-6e00f65cb4db
                stepCounter: 2cd501f4-5e4b-4e30-adef-042b429b1d24
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cb72db4f-21c7-4bb4-b13e-f4c942969aa6
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: efd76052-fa8f-4fd7-9de9-8820744a7710
                stepCounter: 2cd501f4-5e4b-4e30-adef-042b429b1d24
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8ad19300-56c8-48ca-919c-1ca21ead2756
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3707016a-f56c-40ab-84f5-de8681d16587
                stepCounter: 97472af7-08bd-4791-934c-b9281339867d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12ba60fa-36ab-4dcc-a808-fb228a2568f0
          stepCounter: 6a716b2a-fbf6-4a4c-bb65-9b4d907c2bba
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e2aa7d4a-5f57-4cdf-b551-eeff62eac287
                stepCounter: 97472af7-08bd-4791-934c-b9281339867d
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: a46ac3af-db3a-40b0-9fb2-781920b1b319
          NATION: 2cd501f4-5e4b-4e30-adef-042b429b1d24
          REGION: 97472af7-08bd-4791-934c-b9281339867d
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY"= "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
