fileVersion: 1
id: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 739d0074-aab5-4068-bca2-7ca28d4674f9
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b4e4e6a3-7c08-4686-99ef-2a66d954b852
                stepCounter: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 80b322fc-0575-4a6a-bc1c-cd996df908b0
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b815fdc8-0075-4fc3-9fc0-7b32aa206065
                stepCounter: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e0b090d4-ab34-47eb-99fe-82eed05c1b5b
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f8682cc2-c52d-4a9a-a2d5-9fcfdc09d52a
                stepCounter: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 72a734ef-333f-4e8b-bed3-15e57c82f94e
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 42e0f718-cd83-4c15-9216-a279494973d8
                stepCounter: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8af6781f-e53d-4c90-af59-3a04db8f85db
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c6d0d897-6d4d-4675-91f2-6038dd843f4f
                stepCounter: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b1dfa952-6b9b-488a-8250-155a7494c241
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 01121053-6d21-4efe-bf33-34076e9bdd4f
                stepCounter: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 158e6224-1c66-4e0b-bf47-0c7d8ec8c005
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 01121053-6d21-4efe-bf33-34076e9bdd4f
                stepCounter: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 348d1548-0e9b-4d70-a2e5-5da2d82f1d8f
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3c25ec93-775a-40d4-81eb-5ed355dd0e9d
                stepCounter: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4492efc8-6a65-409d-a508-d01467ca18a2
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f36b2c28-e821-4de9-9ec4-b4eda231543c
                stepCounter: 906c46fa-6257-459c-9f95-52bbc9ac9712
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ed730422-331d-4541-aa28-c0a8d5e972f1
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ba14056f-a988-44de-8e5f-45ec9bbe64d3
                stepCounter: 906c46fa-6257-459c-9f95-52bbc9ac9712
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 973c93d6-627c-4abe-8bdc-2c7ab3dd8005
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 404c4e32-935a-4bc2-93cb-399545af60c1
                stepCounter: f4ec2ab7-4717-4bf3-844d-e2f3d865dd3a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 380dd300-00b7-49b9-b34d-531a64c70e11
          stepCounter: ee86bc4d-f6b3-4df9-8d66-79dffdf90370
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 20870acb-4b99-4f2e-b103-515c81c23489
                stepCounter: f4ec2ab7-4717-4bf3-844d-e2f3d865dd3a
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: dffcd2d8-8912-48aa-a2e4-35b6036dbe33
          NATION: 906c46fa-6257-459c-9f95-52bbc9ac9712
          REGION: f4ec2ab7-4717-4bf3-844d-e2f3d865dd3a
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE-1
            nodeName: CUSTOMER
          - locationName: SOURCE-1
            nodeName: NATION
          - locationName: SOURCE-1
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
type: Node
