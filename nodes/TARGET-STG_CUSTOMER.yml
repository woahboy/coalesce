fileVersion: 1
id: 80431418-ec8c-4633-9a69-53dc3230f4e8
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 70c7c611-39ef-4e1e-82fc-e3442cb3aecd
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 90466d92-8f46-4d96-a58f-8b373e64f9e3
                stepCounter: ec27db62-50d6-487c-8e04-619179e947e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9ee48df2-f910-44dd-a8f6-894dd292baa8
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 71dab95c-0022-4289-9ff9-c2fdee92d54b
                stepCounter: ec27db62-50d6-487c-8e04-619179e947e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e33bf120-1f73-4e27-8d77-4384490fd7e6
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aebd918f-4676-4223-9cc5-19fc1bab2307
                stepCounter: ec27db62-50d6-487c-8e04-619179e947e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5112a159-885c-451d-a4aa-1800da65e1e6
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashColumns: []
        hashDetails: null
        name: PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6edf1b4b-4969-4db6-b562-4615c2f2ff07
                stepCounter: ec27db62-50d6-487c-8e04-619179e947e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: baa72135-09e4-4218-90de-d494e768d869
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f1f7c8c6-1183-422d-b2d0-42ae838bde9d
                stepCounter: ec27db62-50d6-487c-8e04-619179e947e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c8a256e3-85c3-44c4-bc6b-2ca14f06a566
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 171dd15c-09bd-4117-b1c5-ccc091b2fa9a
                stepCounter: ec27db62-50d6-487c-8e04-619179e947e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b8ff660c-5d12-47f4-80aa-24811f81fa4c
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 171dd15c-09bd-4117-b1c5-ccc091b2fa9a
                stepCounter: ec27db62-50d6-487c-8e04-619179e947e0
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 708dc700-a28e-42b0-97d7-1eb81456d6a4
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c78898e1-05ca-483a-9294-5ff2e1d7ce8b
                stepCounter: ec27db62-50d6-487c-8e04-619179e947e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 58b5d0cc-e40f-493d-9738-64a47b4c4ad1
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4b2fa680-ec27-4a7d-b38f-099ee824461a
                stepCounter: 787720b0-4529-40cd-9328-13f8b2af1a42
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8a403ca-7f72-4cfa-8334-028eb04acd62
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: db070c91-0ade-4bbb-a2bf-1c7f29d57f2c
                stepCounter: 787720b0-4529-40cd-9328-13f8b2af1a42
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e2edcc3b-ca74-4c2c-9f0e-47469f324803
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 169bf9e3-fccc-4556-98b3-33a0e30767f4
                stepCounter: 81906fc5-dd89-42f7-8a70-92fa4377ba86
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a16cd864-013c-4a0d-836f-327198339057
          stepCounter: 80431418-ec8c-4633-9a69-53dc3230f4e8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d8c51e4e-016f-4622-b411-2e8291560a10
                stepCounter: 81906fc5-dd89-42f7-8a70-92fa4377ba86
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: ec27db62-50d6-487c-8e04-619179e947e0
          NATION: 787720b0-4529-40cd-9328-13f8b2af1a42
          REGION: 81906fc5-dd89-42f7-8a70-92fa4377ba86
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE-1
            nodeName: CUSTOMER
          - locationName: SOURCE-1
            nodeName: NATION
          - locationName: SOURCE-1
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
type: Node
