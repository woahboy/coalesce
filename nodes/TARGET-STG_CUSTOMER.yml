fileVersion: 1
id: 6edace3a-fd84-4850-aa80-b509392ddf18
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ac6d8897-f88a-4cef-b0d7-1f829bfcc2a8
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: de05bf0d-7b67-4ec0-8138-f1b2b282b857
                stepCounter: c6c70106-d468-4d97-8e6a-06fc321b2453
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c056026b-dfaa-4464-90bd-620355bede8c
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6d39a8a4-78c4-4fab-97ba-5e1561f8b013
                stepCounter: c6c70106-d468-4d97-8e6a-06fc321b2453
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: be5f8d69-d2ee-48cd-8ef3-e1c7892a25e3
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 88c1a512-b525-4e22-8917-5718b79bea7b
                stepCounter: c6c70106-d468-4d97-8e6a-06fc321b2453
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 25ff4d43-09dd-4ff8-90d4-254cadbfcca4
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashColumns: []
        hashDetails: null
        name: PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d699dff1-feba-4660-962a-778a5534aeff
                stepCounter: c6c70106-d468-4d97-8e6a-06fc321b2453
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d0fbd71f-f52f-4c45-9139-383e070f2954
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c8439eaf-c082-4954-be7a-ff37fbea6277
                stepCounter: c6c70106-d468-4d97-8e6a-06fc321b2453
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ee8d29bf-fffe-4930-b67c-b0772fc04184
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e79a812b-afec-4375-8a23-e8a5e40a6415
                stepCounter: c6c70106-d468-4d97-8e6a-06fc321b2453
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 390baa4d-81a7-4066-91a3-e7a2a830a78a
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e79a812b-afec-4375-8a23-e8a5e40a6415
                stepCounter: c6c70106-d468-4d97-8e6a-06fc321b2453
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 006829d1-9fe0-4b2c-9c04-6b5fd9e3467d
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bad981a2-3a41-46cd-a100-3360018994b4
                stepCounter: c6c70106-d468-4d97-8e6a-06fc321b2453
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 917755b3-68db-462b-8643-38b11a139335
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 175476c1-1069-4289-9b40-c7fab5497ea1
                stepCounter: e35b1ac6-7646-4fdd-8e89-01a62324a2af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f98905a1-c858-4a2c-b64e-dd5f70a33306
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b92211c8-7ba7-420e-9278-be5c98f35f5a
                stepCounter: e35b1ac6-7646-4fdd-8e89-01a62324a2af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b0461620-104d-4457-a8d2-8cd455a25a72
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 24b17679-2fdf-4add-ba55-5c62aed1a4bf
                stepCounter: bcd7d6c3-52eb-42fd-aca4-0fa45868bb9e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 32b4075f-7ecf-405f-beb5-79fa3f3c41e6
          stepCounter: 6edace3a-fd84-4850-aa80-b509392ddf18
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 11cd45dd-2fd7-445e-8530-8990c5a8e2da
                stepCounter: bcd7d6c3-52eb-42fd-aca4-0fa45868bb9e
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: c6c70106-d468-4d97-8e6a-06fc321b2453
          NATION: e35b1ac6-7646-4fdd-8e89-01a62324a2af
          REGION: bcd7d6c3-52eb-42fd-aca4-0fa45868bb9e
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE-1
            nodeName: CUSTOMER
          - locationName: SOURCE-1
            nodeName: NATION
          - locationName: SOURCE-1
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
type: Node
