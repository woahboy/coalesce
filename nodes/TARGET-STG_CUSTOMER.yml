steps:
  STG_CUSTOMER-c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9:
    operation:
      config:
        insertStrategy: INSERT
        postSQL: ""
        preSQL: ""
        testsEnabled: true
        truncateBefore: true
      database: ""
      deployEnabled: true
      description: Customer data as defined by TPC-H
      isMultisource: false
      locationName: TARGET
      materializationType: table
      metadata:
        appliedNodeTests: []
        columns:
          - columnReference:
              columnCounter: 8f765bc9-09cb-4eb5-8a29-504fb64f6c1b
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: NUMBER(38,0)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_CUSTKEY
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: aa45e792-8901-41e0-b135-eda6b5b483e5
                    stepCounter: d8d24e19-2f57-4887-a35b-a24530da7a11
                transform: ""
          - columnReference:
              columnCounter: d8df1f41-4eae-439c-8cb5-3a6fdd1ef611
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(25)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 7a904b23-e517-4bb3-832c-c344d50efb61
                    stepCounter: d8d24e19-2f57-4887-a35b-a24530da7a11
                transform: ""
          - columnReference:
              columnCounter: 9e54e5cf-febc-48df-ba4d-c06cea31082e
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(40)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_ADDRESS
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 47e352a2-51bc-42f4-93bd-97e9a57f692a
                    stepCounter: d8d24e19-2f57-4887-a35b-a24530da7a11
                transform: ""
          - columnReference:
              columnCounter: 1d04bccc-43fa-471c-bca5-fbba4b4e6ed6
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(15)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_PHONE
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 7a4c06bf-4611-4dcc-af34-5683a0e489e9
                    stepCounter: d8d24e19-2f57-4887-a35b-a24530da7a11
                transform: ""
          - columnReference:
              columnCounter: d6e4803c-4868-44e3-983f-98416e40abad
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: NUMBER(12,2)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_ACCTBAL
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 308a3ee4-b657-4023-b4d1-1fb02e55d771
                    stepCounter: d8d24e19-2f57-4887-a35b-a24530da7a11
                transform: ""
          - columnReference:
              columnCounter: 4246b34c-59c8-4ff6-832f-c50f52ebe2a0
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(10)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_MKTSEGMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 805c1cb8-3a40-465b-9492-0572f3438337
                    stepCounter: d8d24e19-2f57-4887-a35b-a24530da7a11
                transform: ""
          - columnReference:
              columnCounter: 85122e52-7d8c-4b8d-b3cb-655736ef7a9e
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(10)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_VALUE
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 805c1cb8-3a40-465b-9492-0572f3438337
                    stepCounter: d8d24e19-2f57-4887-a35b-a24530da7a11
                transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
          - columnReference:
              columnCounter: 8f7dec8c-5afc-450a-b0d7-3a7498c8156a
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(117)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: f35cfb40-40c6-459d-bfbe-72bc47cb5af5
                    stepCounter: d8d24e19-2f57-4887-a35b-a24530da7a11
                transform: ""
          - columnReference:
              columnCounter: 926e43e3-fcf6-4c7e-b21a-6696fdc39077
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(25)
            description: ""
            name: N_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: a5bd8dcf-7df5-4980-9fb0-37838541e5a6
                    stepCounter: 9002079b-9ff9-4f84-bac7-9154908e2199
                transform: ""
          - columnReference:
              columnCounter: aec4671e-d586-49e6-9145-51e07791dbaa
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(152)
            description: ""
            name: N_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: b2fa8d04-e7a3-44ab-b98f-42307b47db2d
                    stepCounter: 9002079b-9ff9-4f84-bac7-9154908e2199
                transform: ""
          - columnReference:
              columnCounter: 44571248-afab-4607-8c39-3e149610eabe
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(25)
            description: ""
            name: R_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 3173e6d1-12d3-4c7d-a8e9-14d2d3356cce
                    stepCounter: 4bd8f4dd-6067-4531-a02c-f46768994989
                transform: ""
          - columnReference:
              columnCounter: 47cb40d2-17af-47ea-92c1-7fe468cab7ab
              stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
            dataType: VARCHAR(152)
            description: ""
            name: R_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: ba12203a-49e4-4948-93b8-ac6c494245da
                    stepCounter: 4bd8f4dd-6067-4531-a02c-f46768994989
                transform: ""
        cteString: ""
        enabledColumnTestIDs: []
        sourceMapping:
          - aliases:
              CUSTOMER: d8d24e19-2f57-4887-a35b-a24530da7a11
              NATION: 9002079b-9ff9-4f84-bac7-9154908e2199
              REGION: 4bd8f4dd-6067-4531-a02c-f46768994989
            customSQL:
              customSQL: ""
            dependencies:
              - locationName: SOURCE-1
                nodeName: CUSTOMER
              - locationName: SOURCE-1
                nodeName: NATION
              - locationName: SOURCE-1
                nodeName: REGION
            join:
              joinCondition: |-
                FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
                INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
                ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
                INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
                ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
            name: STG_CUSTOMER
            noLinkRefs: []
      name: STG_CUSTOMER
      overrideSQL: false
      schema: ""
      sqlType: Stage
      type: sql
    stepCounter: c147a0f9-e930-4ea0-8d1a-23ff9c5e03e9
