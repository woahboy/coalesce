fileVersion: 1
id: dfd0d926-91a1-4047-a225-7dadbe59fe3a
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 68ec0581-0cd6-4eaa-94a6-2c6779e96665
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 89e3ba06-e1d0-496d-86c8-f34ea02cf983
                stepCounter: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a5742ace-2a3b-4cc6-9f89-3bf267bf9e75
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b0fb609d-ccff-4dd4-bead-97ab8e9fe202
                stepCounter: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5e415b06-2c65-4748-9053-621a70803e87
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 941f12d1-a155-4253-a5eb-c241d5611f84
                stepCounter: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1837e71c-5222-42ba-98f4-3e693f4e43da
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 10689c4c-e992-4e93-a2db-6e5b22ee440b
                stepCounter: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b70d2906-f483-4198-8d2f-25e2b4244552
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 223b4074-5c30-4eb0-a598-aef23b3d4b10
                stepCounter: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4357265b-c461-42ab-abfb-ef647d23984f
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da0068f0-866c-4949-b3b3-39967444c5ad
                stepCounter: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d0576ef0-0357-4635-8ea6-1dab66194a74
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: da0068f0-866c-4949-b3b3-39967444c5ad
                stepCounter: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 345b371a-bd38-4a52-ab39-10cd5849a413
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b764bafe-ea28-4b20-ba12-2a9907763104
                stepCounter: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 18c9768a-09db-49c8-ab3b-d9a77dfeb6e7
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1ba0e8c9-dc06-4002-922a-3fcf1b6af00b
                stepCounter: 7f39c68b-337a-43e5-b1a3-ff7b91bb847e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 10445d97-5c33-4ec8-a42e-437f7a4d0976
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0609291b-62f4-42db-a3c8-1a696f5d5846
                stepCounter: 7f39c68b-337a-43e5-b1a3-ff7b91bb847e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 20f253ce-4ea5-4fcd-8d29-0dfd2fdc8a91
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1a0072b9-5c2e-4c2f-839d-3609c20c0acc
                stepCounter: 2651c5e7-d826-4dd7-a24e-4549377b0556
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8ca700fd-304d-4231-980a-58331b4228ee
          stepCounter: dfd0d926-91a1-4047-a225-7dadbe59fe3a
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c4192a04-7ab2-465c-a289-d5923c93d59b
                stepCounter: 2651c5e7-d826-4dd7-a24e-4549377b0556
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 42a8b75d-b96f-4f0f-a025-2c82e78285d0
          NATION: 7f39c68b-337a-43e5-b1a3-ff7b91bb847e
          REGION: 2651c5e7-d826-4dd7-a24e-4549377b0556
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
