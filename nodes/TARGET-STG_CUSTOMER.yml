fileVersion: 1
id: 7b6026a8-3931-4758-9018-530c9e1878cf
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0d495e8a-01d3-4341-8113-2ce3b8d64fc2
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9e15786a-50a6-4b9e-8fe1-b68617a33185
                stepCounter: 504cdb95-77c0-46e6-9132-a7afee5e419b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 995ea895-66a3-412e-b7d4-c9d5c2564ae6
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18972b17-406e-4bc2-a1b9-19b86af4105c
                stepCounter: 504cdb95-77c0-46e6-9132-a7afee5e419b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 02f9add0-e9c2-4368-9923-5a7310423395
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c7313477-c6f5-49a6-95a8-8734b7b6cc42
                stepCounter: 504cdb95-77c0-46e6-9132-a7afee5e419b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 09e7a1fd-f749-44cf-84a4-c0821b572f9e
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c1348f63-b5de-4a86-aab6-78fea3343507
                stepCounter: 504cdb95-77c0-46e6-9132-a7afee5e419b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b7a2f86f-a607-400d-85a3-51bfe77134c4
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c346871f-effe-4ec8-83e5-51b6d5e7d224
                stepCounter: 504cdb95-77c0-46e6-9132-a7afee5e419b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fee904d9-0eb3-42ff-8739-c425acff5175
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 25a573b7-85b2-4ed5-9b50-6259482dc011
                stepCounter: 504cdb95-77c0-46e6-9132-a7afee5e419b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a81ccfb-ff3d-4792-ba41-3673e0fc893d
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 25a573b7-85b2-4ed5-9b50-6259482dc011
                stepCounter: 504cdb95-77c0-46e6-9132-a7afee5e419b
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 49a2352c-fe6d-4a19-a6ff-4cd41a00708a
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9863fe00-7222-4e6f-8d4a-7ae5b9a32066
                stepCounter: 504cdb95-77c0-46e6-9132-a7afee5e419b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5f5ec48e-1054-41be-8fa3-2a7add732716
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8bddb84b-6036-4dc5-892f-6386a3a8192d
                stepCounter: a388d8ab-ad4a-4815-a077-b6be58b190ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b4d4a71d-54a4-417d-b63e-8e008eeb9d69
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b9055dc6-f060-4caa-a2cc-141c6866095f
                stepCounter: a388d8ab-ad4a-4815-a077-b6be58b190ad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 91e5b2c4-0ac8-4a98-9beb-8c01ec1e6bdc
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 16c60162-e92c-40dd-a72a-e14673ee0d26
                stepCounter: 966af4fe-47d5-4c63-88da-dc79ba03090b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 844b67a8-3247-4632-80f9-a6e277bf9562
          stepCounter: 7b6026a8-3931-4758-9018-530c9e1878cf
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d8ab1a9b-5dce-49a8-8d40-f12e16f1e9fc
                stepCounter: 966af4fe-47d5-4c63-88da-dc79ba03090b
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 504cdb95-77c0-46e6-9132-a7afee5e419b
          NATION: a388d8ab-ad4a-4815-a077-b6be58b190ad
          REGION: 966af4fe-47d5-4c63-88da-dc79ba03090b
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
