fileVersion: 1
id: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 97e305a6-99c5-4f7d-a32b-47397a8a14d4
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e2cdc4e0-0c5b-4926-84d8-f8c465d3bcc4
                stepCounter: 6a79c7af-6212-4260-9323-616d11926386
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b70448d-cae9-43a9-ad53-fc0a35ead3cf
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e1b18fe6-5ac7-4434-a963-045e48868497
                stepCounter: 6a79c7af-6212-4260-9323-616d11926386
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c757a5bc-6df3-4f5a-8026-7d7a7f49dbb3
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 900c2f9e-cf85-4098-9591-ab0922458aed
                stepCounter: 6a79c7af-6212-4260-9323-616d11926386
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 25375ffb-32c1-447c-8fdb-71776e29af42
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 64d9075a-2201-4026-8acd-c7ad347f3eaa
                stepCounter: 6a79c7af-6212-4260-9323-616d11926386
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2eeabb11-23c5-4c16-b3a3-fb6403ff3581
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3a119ed2-6f5a-4138-b17e-48c59ff2f1c5
                stepCounter: 6a79c7af-6212-4260-9323-616d11926386
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4b8f2977-2407-4a32-91a9-850d80ae5bea
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0483a328-5202-4d53-9c8d-8eb864315cef
                stepCounter: 6a79c7af-6212-4260-9323-616d11926386
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 48bc57d2-fdcd-4540-a645-66873582b561
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0483a328-5202-4d53-9c8d-8eb864315cef
                stepCounter: 6a79c7af-6212-4260-9323-616d11926386
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dcb7a64d-cf3c-44ef-a25d-677c92c70a7d
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 90a8bcf3-dfad-4c21-9539-85ea71b9a029
                stepCounter: 6a79c7af-6212-4260-9323-616d11926386
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a2b15cfe-4fb5-440a-a80a-c81f2f5e137a
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c9fb2bbb-7aaa-490b-aac9-8e1e8440248e
                stepCounter: cf789902-26c8-4a8e-807c-a029877c86f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4306fcb6-162e-425e-988c-6544c28144c7
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cc6d0dd2-a1e6-4819-b215-1aef5e87a07e
                stepCounter: cf789902-26c8-4a8e-807c-a029877c86f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 680196c4-7484-47e0-873f-e1015ed226cb
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 91891df5-702a-4477-9d0c-c55a8f4b241c
                stepCounter: 5f5c0e72-f829-4092-ac9e-c8eb1cd3a002
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08dfa5ee-61f8-4bba-b9ec-edc72ad43531
          stepCounter: 1a53dfa2-9f55-4c5c-8e8b-b8238ee8fc06
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dab526a9-1d28-45c8-9908-08f98f9cc1e9
                stepCounter: 5f5c0e72-f829-4092-ac9e-c8eb1cd3a002
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 6a79c7af-6212-4260-9323-616d11926386
          NATION: cf789902-26c8-4a8e-807c-a029877c86f9
          REGION: 5f5c0e72-f829-4092-ac9e-c8eb1cd3a002
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
