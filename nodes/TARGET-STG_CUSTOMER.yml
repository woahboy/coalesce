fileVersion: 1
id: be120b17-5920-470c-ada1-5b1526623148
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a224836a-d881-4cde-b006-2d37d47d331b
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6118489d-bbaa-44e9-ab4a-0084cde71634
                stepCounter: a63f20cb-09ee-407b-ad79-47a5e27de9f3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cf9611cd-72a0-4088-8f49-c4de091d8b50
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 10e62514-e667-4302-9af9-4152ee0b7121
                stepCounter: a63f20cb-09ee-407b-ad79-47a5e27de9f3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 06874ef0-0fd2-46f8-890b-07a1ef8f6958
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 91f1467c-6ede-4228-b00c-a947fed05fd4
                stepCounter: a63f20cb-09ee-407b-ad79-47a5e27de9f3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f5c946e-7331-407f-97fe-5a4610d6109f
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2da3f186-6549-424f-9c58-c3bd53f1e8ff
                stepCounter: a63f20cb-09ee-407b-ad79-47a5e27de9f3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f5b8c039-0638-4b04-99cc-fee7a5aca590
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 65f235b4-9d9e-4407-a705-a4bff8faa22b
                stepCounter: a63f20cb-09ee-407b-ad79-47a5e27de9f3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: df27cc64-15a0-43f0-8316-5a58fdd1b437
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 713f2381-7711-4e2e-84c2-1e60d700d743
                stepCounter: a63f20cb-09ee-407b-ad79-47a5e27de9f3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a67fe324-6aaa-4fde-bac6-1ede6a5e603b
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 713f2381-7711-4e2e-84c2-1e60d700d743
                stepCounter: a63f20cb-09ee-407b-ad79-47a5e27de9f3
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDLING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6db602a5-cf45-4306-9c40-5ab0f98bc250
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 53a22ded-ab70-4d0e-a345-55de5d5e831c
                stepCounter: a63f20cb-09ee-407b-ad79-47a5e27de9f3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0ccadb2c-b275-401b-9aeb-7a6e4110f0fd
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5c773464-8465-4115-a505-aceca3abb50d
                stepCounter: 480401d2-168a-4ed1-8f31-8a040bc3bb2b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 075087ef-f307-4d87-8559-dc198d67640d
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 799f34fe-79fe-446e-8b82-a44b45bd31dc
                stepCounter: 480401d2-168a-4ed1-8f31-8a040bc3bb2b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 154ac385-5630-413d-9684-654017649b79
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 99b29b99-7be4-4e24-89e7-b21e965a8390
                stepCounter: 1720ff9a-45ce-4f8b-b2cf-5edb06b6d989
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b0d069e7-2b05-464a-8b0d-9334ad7164d3
          stepCounter: be120b17-5920-470c-ada1-5b1526623148
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98b71ce8-16cd-45ee-88eb-e4eaedd1ba44
                stepCounter: 1720ff9a-45ce-4f8b-b2cf-5edb06b6d989
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: a63f20cb-09ee-407b-ad79-47a5e27de9f3
          NATION: 480401d2-168a-4ed1-8f31-8a040bc3bb2b
          REGION: 1720ff9a-45ce-4f8b-b2cf-5edb06b6d989
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
