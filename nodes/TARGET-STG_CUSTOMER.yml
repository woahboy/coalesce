fileVersion: 1
id: 079c0d07-e8dc-427a-9830-95d02eff089c
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b2ba3142-8463-42d5-bd7f-ad5a70f813e0
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8104349b-7ae6-45e6-a59c-ccebcdf0f7d7
                stepCounter: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 502e8a12-b730-4e4a-8026-70d4c635efaf
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98db01f6-c67b-4d31-bd31-5a40aa6992ff
                stepCounter: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: db12bf73-dd57-40c0-94a3-53fef162a430
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fb074f45-8c31-44c5-b944-4ebebcc100f2
                stepCounter: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3226944c-04c3-4a73-927f-e920bed03047
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4d8abae4-61f6-41c3-93b4-532d80cc4baf
                stepCounter: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 662a77a7-bfc3-42de-94bb-c18e9955c8f4
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ca3571ad-ad7e-45ed-9242-4160fd9d0aad
                stepCounter: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 272264d4-eec5-4b50-a763-69df2fa74df5
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9a9a7cff-3e1e-48b8-8d39-7b66b1710f11
                stepCounter: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4b75e004-b272-4f51-b77c-28c593b95d49
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9a9a7cff-3e1e-48b8-8d39-7b66b1710f11
                stepCounter: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b6452ca-6996-43d1-830f-6f2fbb890189
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f075c9bc-3833-46b7-83d8-e39bac6dcfe1
                stepCounter: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea14a332-5914-4493-9108-7cc4067ee9ee
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 005b96b1-874d-4aec-b71f-53790bbd2f5c
                stepCounter: 5a7b86fd-434a-430f-bb3b-9d1b4e31d548
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6002fcf2-809a-4ae3-8c55-d45722024623
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fe46e41d-fb30-4446-a0d0-d9c5f7467662
                stepCounter: 5a7b86fd-434a-430f-bb3b-9d1b4e31d548
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 767d0d50-c666-42b8-9c89-99c6885e25cf
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c8e5b9fb-7351-4f60-a750-506509dd626d
                stepCounter: dfefd348-f44e-40b4-804c-c3e78661314f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4c17318f-713b-46d8-8065-796a71af4a12
          stepCounter: 079c0d07-e8dc-427a-9830-95d02eff089c
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9c922c48-eefe-4fd8-a01b-a35911ee05d0
                stepCounter: dfefd348-f44e-40b4-804c-c3e78661314f
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: fcd30c2c-e2ba-4f32-804a-5a9150256f4e
          NATION: 5a7b86fd-434a-430f-bb3b-9d1b4e31d548
          REGION: dfefd348-f44e-40b4-804c-c3e78661314f
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
