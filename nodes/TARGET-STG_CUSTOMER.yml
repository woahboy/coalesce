fileVersion: 1
id: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 99c824a6-d48f-449e-a68d-79234e492406
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d346f6a3-ce03-46c6-9958-4a5c6e56f51c
                stepCounter: 8849adb1-4b4d-4366-8870-4564669e7b02
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eed80cf4-c51d-444f-b828-1f7f8df17b53
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d507a825-1a31-4340-a028-f7f47748504c
                stepCounter: 8849adb1-4b4d-4366-8870-4564669e7b02
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4871692f-6c69-4689-8fe5-47682d6fba5d
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9c6b4ba6-2864-4f37-b702-1c5c1f4673f3
                stepCounter: 8849adb1-4b4d-4366-8870-4564669e7b02
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b569904-a51d-4290-b46f-98ea233d6972
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b8b33e36-ec71-4667-98f3-a604b24bc644
                stepCounter: 8849adb1-4b4d-4366-8870-4564669e7b02
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1d21176e-9ba7-4542-8007-0c0396d04dae
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b6cf1143-4eeb-4c62-a919-a644d3bf0d95
                stepCounter: 8849adb1-4b4d-4366-8870-4564669e7b02
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 816fcc4f-116e-4def-91bf-956cec3d1211
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d6100c40-a5d4-401e-925f-04dc557a10c6
                stepCounter: 8849adb1-4b4d-4366-8870-4564669e7b02
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 189e1aaa-2291-45a8-8b62-f418b8f4a223
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d6100c40-a5d4-401e-925f-04dc557a10c6
                stepCounter: 8849adb1-4b4d-4366-8870-4564669e7b02
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1ae81907-2e57-46b7-a10d-d1c52170574f
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3cdb09a7-dfb9-4a30-8513-5ff54bb1d3ea
                stepCounter: 8849adb1-4b4d-4366-8870-4564669e7b02
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08d9339f-c744-4418-8834-b59ae5d428d8
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d89c9fbf-a0b9-4c95-aa67-e7f440148fa7
                stepCounter: 837d3964-af23-45e7-b065-7e82e7a92025
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9cda3558-8684-49b4-8b62-56e6d5db735c
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0b038025-c680-48bd-9311-c89a319028aa
                stepCounter: 837d3964-af23-45e7-b065-7e82e7a92025
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0fba0adb-f382-456a-adcb-bd17c3bb4d18
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ca39b1a6-690d-42cf-b445-3db331a31453
                stepCounter: 770e28f8-92b8-4ceb-b2b8-2299b9ce0c99
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: da4e05bf-ba99-424b-b949-c67fc056eeee
          stepCounter: 47151197-7c9c-4df7-a7fc-2dead97cb4e1
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: acfa85be-2ee0-4b6a-ad11-2e7c02834229
                stepCounter: 770e28f8-92b8-4ceb-b2b8-2299b9ce0c99
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 8849adb1-4b4d-4366-8870-4564669e7b02
          NATION: 837d3964-af23-45e7-b065-7e82e7a92025
          REGION: 770e28f8-92b8-4ceb-b2b8-2299b9ce0c99
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
