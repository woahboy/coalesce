fileVersion: 1
id: fb56b327-3cf0-484f-ba08-53a283a8f309
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 35218564-5ca8-40a1-8edc-7215889319d0
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 767c08ef-7134-4633-88cd-0466f3211f46
                stepCounter: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 89a44315-df6d-494e-b45f-79eb363552d0
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a25a5370-48e6-4359-b677-a4df701f55ec
                stepCounter: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 86f4e0c8-9733-45b6-8a16-879ee81d9493
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1ca45561-34b0-438d-b047-0a152874e9d3
                stepCounter: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 235e0a49-02b6-44bc-aa00-5f2c7fb203c7
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d72c2db1-8c8d-469b-b120-a754299709bf
                stepCounter: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8c675344-a6d2-44ab-b454-d462d9d39e14
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b8e73133-e599-433b-be6a-e0668284fe00
                stepCounter: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8e46f7fc-3c91-4e2f-be07-3c716efb6e77
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7b3ec61a-7b58-4493-b154-e80582c82b27
                stepCounter: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e6caca67-4b6f-43c3-8c67-f75925ec01ac
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7b3ec61a-7b58-4493-b154-e80582c82b27
                stepCounter: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING','HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ab41a98b-ae03-411a-811b-c4f9c1dd053c
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a61858b1-b613-462f-abd3-7a0b0c8d0db2
                stepCounter: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0537b86a-1382-4962-8d25-719649f7fd41
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7c9803e1-340f-401e-be0c-93a1c3a86347
                stepCounter: 664cd809-e333-47aa-b90e-50767ed69ece
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8f4a7791-0728-425a-b10c-656e266a27f7
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 47fe4b35-c19f-4239-8a07-1ea83359ce81
                stepCounter: 664cd809-e333-47aa-b90e-50767ed69ece
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ebd7b831-dcc5-4fb9-81c8-636f3053f6d6
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a9257948-c970-4746-92a3-4974ff81eaea
                stepCounter: faff1d70-9ba7-423d-aca3-88bc9653c2bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d138c16a-e5cf-430f-8cd8-d9bd4d6caf93
          stepCounter: fb56b327-3cf0-484f-ba08-53a283a8f309
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6663a00a-ecd5-4a4e-b965-af2b04066895
                stepCounter: faff1d70-9ba7-423d-aca3-88bc9653c2bc
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 6cdd53a7-f7e9-460a-9d4d-5730a1229fa7
          NATION: 664cd809-e333-47aa-b90e-50767ed69ece
          REGION: faff1d70-9ba7-423d-aca3-88bc9653c2bc
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE-1
            nodeName: CUSTOMER
          - locationName: SOURCE-1
            nodeName: NATION
          - locationName: SOURCE-1
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
type: Node
