fileVersion: 1
id: f3f8a38f-bf86-440a-864c-629f3360429b
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8ad249e9-5a60-4037-ab39-d40c2049de0f
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b1679d3a-78b2-4628-9fa3-ca1f93466b36
                stepCounter: 63c79dca-18e5-48fb-8790-70c6bc41f70c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 133ceb19-3386-4253-8744-9af54240110d
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6e1db5fc-ed0b-4ed2-ad5b-92eef0b5593d
                stepCounter: 63c79dca-18e5-48fb-8790-70c6bc41f70c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a45d0cb8-7372-4215-a39a-9cab41f47165
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 27381479-7de5-4bed-ba36-a327a5b76aaa
                stepCounter: 63c79dca-18e5-48fb-8790-70c6bc41f70c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 54a548e3-ae4e-4f13-9456-65e5ba294411
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4c15f3d2-8877-4725-9bb5-3315689a9faa
                stepCounter: 63c79dca-18e5-48fb-8790-70c6bc41f70c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c2bfe004-5d97-45c8-99ba-6412962329a2
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5ea76710-d240-42df-b339-ccd8f90a6ee9
                stepCounter: 63c79dca-18e5-48fb-8790-70c6bc41f70c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 685381e4-779e-4a0e-b5f9-4ac177edfe26
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fee85d2a-0f96-457d-87d2-06f838d09cce
                stepCounter: 63c79dca-18e5-48fb-8790-70c6bc41f70c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 07d9b94f-cef8-4dd9-b699-135f4ef9242f
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fee85d2a-0f96-457d-87d2-06f838d09cce
                stepCounter: 63c79dca-18e5-48fb-8790-70c6bc41f70c
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9d4bc74a-1d26-4c87-a8cb-bed81959ac4b
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b8cb7008-cd7a-4e1b-885a-e573d8aa5af3
                stepCounter: 63c79dca-18e5-48fb-8790-70c6bc41f70c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 72ddb569-e028-4fca-8432-97515cbc6619
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dc22e952-b20f-41aa-9b50-220ad24af516
                stepCounter: 4ef5e41a-469d-48c3-adc2-38fe79ab878f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c4ab4a4e-7e57-459a-8795-52e8af516ec0
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4a0bba98-5202-4cab-9abd-c53c63acaabc
                stepCounter: 4ef5e41a-469d-48c3-adc2-38fe79ab878f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dadeb7eb-c1da-4c40-bfb6-5a9e1c60ad82
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3a21647d-2d01-42e6-9a90-7d745387a5a5
                stepCounter: d619f3af-9bb6-4468-9089-beb42b72054c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8405b4e9-107d-4e43-be23-3275f6993969
          stepCounter: f3f8a38f-bf86-440a-864c-629f3360429b
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 438d3573-b417-4403-bd96-f57c5c1d27b7
                stepCounter: d619f3af-9bb6-4468-9089-beb42b72054c
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 63c79dca-18e5-48fb-8790-70c6bc41f70c
          NATION: 4ef5e41a-469d-48c3-adc2-38fe79ab878f
          REGION: d619f3af-9bb6-4468-9089-beb42b72054c
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
