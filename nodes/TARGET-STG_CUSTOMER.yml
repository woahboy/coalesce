fileVersion: 1
id: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: false
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2c2e26bc-5ce4-4d74-8e6d-da65d23113dc
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 95ea5fba-f01c-4a53-a593-05f9e6e61aba
                stepCounter: 90435172-2722-4e2c-994a-cd43310a6627
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2f951b90-5b4d-4381-a837-d896d7db095b
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7fd386b1-c8be-4a4b-84d8-3667b287b02f
                stepCounter: 90435172-2722-4e2c-994a-cd43310a6627
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f99fdf76-06bd-4805-9340-6aa1b2319758
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2aa1535a-af64-4d3c-b38b-02a002da6648
                stepCounter: 90435172-2722-4e2c-994a-cd43310a6627
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 83809b03-9009-4897-9e02-95faa2a4bdee
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 98d04b6b-293c-4e80-be07-b14c85e896db
                stepCounter: 90435172-2722-4e2c-994a-cd43310a6627
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 09a8fd7f-19c1-44db-8011-03eee3cee7c6
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6b3ff354-7c43-4cf2-897e-914418da3f8c
                stepCounter: 90435172-2722-4e2c-994a-cd43310a6627
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 34fc725e-6646-45d9-9cc4-32c1d9e7ff64
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d97061fd-0bfd-4ea7-8bc2-9211c8343b03
                stepCounter: 90435172-2722-4e2c-994a-cd43310a6627
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b3388c55-289a-4cb5-9c1d-2d9a56196f8c
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d97061fd-0bfd-4ea7-8bc2-9211c8343b03
                stepCounter: 90435172-2722-4e2c-994a-cd43310a6627
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 452a89bf-19ef-44b8-a600-1b438709c10e
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bef16ddc-3516-4121-ba95-5fadf07f9c21
                stepCounter: 90435172-2722-4e2c-994a-cd43310a6627
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ef33022f-1198-4727-9e94-2f9f138f7bab
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c5f9f5b1-b8fa-41eb-8795-e5c0d9525093
                stepCounter: 76808e45-aa2a-4693-8b1a-ad673360bdb1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1ede5a16-9213-483e-9043-7c31feee7e5f
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 845bc5b3-aafe-4fc3-b3d0-f2d6c938b331
                stepCounter: 76808e45-aa2a-4693-8b1a-ad673360bdb1
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4e084e88-c603-4cb9-b790-e878c8d2525d
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d82d9982-45b6-4149-8a8a-0732b10ee88a
                stepCounter: cef9b6b9-7f5c-443b-bda7-7a76ae48def9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a69202a-e6ec-4304-83a4-c33ddd8a7042
          stepCounter: b0e489b6-a16c-4b49-8da1-234f8c8de0b7
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07b6461f-a1e0-4638-8c7e-89d6d2010a8b
                stepCounter: cef9b6b9-7f5c-443b-bda7-7a76ae48def9
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 90435172-2722-4e2c-994a-cd43310a6627
          NATION: 76808e45-aa2a-4693-8b1a-ad673360bdb1
          REGION: cef9b6b9-7f5c-443b-bda7-7a76ae48def9
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
