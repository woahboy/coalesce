fileVersion: 1
id: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 035711c0-994b-41cb-9078-51c468fc5f7b
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 93e9fcde-f177-4335-a7e4-8ddc1d68b7c8
                stepCounter: 4a02304a-002a-412c-87de-66d9b0e70088
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7003eec1-8f1e-4ece-bf13-4767ceea06e9
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7cc19b02-5cd7-4a89-8112-7d087ee24e45
                stepCounter: 4a02304a-002a-412c-87de-66d9b0e70088
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e8d6dea8-5272-4dd3-aa5a-f95e39eb480e
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f2bb0bd9-ad3f-4aef-ac8d-41b6d612c699
                stepCounter: 4a02304a-002a-412c-87de-66d9b0e70088
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 80aca2ec-27ae-410c-9abe-1c30e6bbe0fc
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 87944da6-8f4f-4aa3-ba5e-7f6a62279ad2
                stepCounter: 4a02304a-002a-412c-87de-66d9b0e70088
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b3a8ac85-845a-4a96-b973-c38317e3b6c7
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3179fadf-21d2-4e85-bbe8-69b02f81bb2b
                stepCounter: 4a02304a-002a-412c-87de-66d9b0e70088
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0f6cf97a-2194-4ed3-b4ce-2167bc329f53
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f30e367-07a7-46ab-afc3-1303de574b36
                stepCounter: 4a02304a-002a-412c-87de-66d9b0e70088
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 830a24eb-20d8-4f1b-be09-7b7d16353fdb
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f30e367-07a7-46ab-afc3-1303de574b36
                stepCounter: 4a02304a-002a-412c-87de-66d9b0e70088
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f9e9c3ed-3198-4fd8-a33f-f8000f016274
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a8ba9f97-d3fb-432e-b46b-a390af5abcfa
                stepCounter: 4a02304a-002a-412c-87de-66d9b0e70088
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 179b5693-e9da-49b6-b7dc-656ffe5e1d8e
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07be2c9b-51c8-49e1-9f3c-9f2eda63d918
                stepCounter: 6b4ab514-1354-4417-8fb9-660efd00163a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dcb5a714-0faa-4b0e-9a9b-e0a41c20b226
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e6e26223-8de5-473d-b4bb-67a767f900f0
                stepCounter: 6b4ab514-1354-4417-8fb9-660efd00163a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b7d910fd-d953-4bc6-a983-f02afab1500b
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 80fb8098-c3c2-4bd2-aaea-eab01a20b6d7
                stepCounter: a09b3342-8a33-468f-a51a-d7b5100459ea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 61ed1a82-a602-4e60-bfcc-2b0bb343b165
          stepCounter: c7e9fefc-7b4b-4248-908e-c6d67a2b1a68
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18efa58a-5422-4ea0-974e-e12ffe01a646
                stepCounter: a09b3342-8a33-468f-a51a-d7b5100459ea
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 4a02304a-002a-412c-87de-66d9b0e70088
          NATION: 6b4ab514-1354-4417-8fb9-660efd00163a
          REGION: a09b3342-8a33-468f-a51a-d7b5100459ea
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
