fileVersion: 1
id: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0e15d155-8d0d-40d6-b4d0-ec333c5d01f2
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cec50314-4415-4fdf-8e8d-d7990c07eb5b
                stepCounter: b9cef4d9-4c34-478d-a424-ba84a500c23d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 29b4ad7d-5856-4ae3-a7b9-c8a327f50fe3
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a13a75bc-3323-452e-b4df-e5b52a0dbe88
                stepCounter: b9cef4d9-4c34-478d-a424-ba84a500c23d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 95a82e1f-05ee-4ee8-a39b-d34d2600199a
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cf8211ab-230d-4984-b54f-db86bdeb44c5
                stepCounter: b9cef4d9-4c34-478d-a424-ba84a500c23d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0edeb39e-6d62-4eb7-bc3a-7321619cafea
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7209de53-ee08-43c7-9858-04f8e7609ac8
                stepCounter: b9cef4d9-4c34-478d-a424-ba84a500c23d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eabdd149-726e-460d-bc04-b29eed2b0a3b
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 007e50d2-3b8b-4682-a7e9-efce14b37c43
                stepCounter: b9cef4d9-4c34-478d-a424-ba84a500c23d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0c9c3335-cf30-4110-992e-3361fd6feddb
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d076413c-cb7d-4c65-b8da-4d7f81611322
                stepCounter: b9cef4d9-4c34-478d-a424-ba84a500c23d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bc3619e2-6e98-4eae-82a5-1f5bc5507460
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d076413c-cb7d-4c65-b8da-4d7f81611322
                stepCounter: b9cef4d9-4c34-478d-a424-ba84a500c23d
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e71eacdf-5d59-4952-9c4b-ed7d628948cd
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8a03c5ac-5b1e-4a0d-9087-19e0788afb4a
                stepCounter: b9cef4d9-4c34-478d-a424-ba84a500c23d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b87f51b4-7d3d-42fa-8338-1c4a782b9462
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd5e77b9-3972-4ab5-b9ca-587847a42de6
                stepCounter: baa4255b-8eae-4c22-b1c4-a90b4b52300a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d615244b-e233-4be3-982e-c35b1f537410
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 76a0e365-72b7-430f-b0d0-8851eafb4591
                stepCounter: baa4255b-8eae-4c22-b1c4-a90b4b52300a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c2eb0e99-4142-4c28-82d9-b4d63dd9cbe1
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9b76be14-fdf5-44bf-a7fb-ed78f7aa475e
                stepCounter: fe498ed3-3e90-4e48-b77c-27810ff3ceb7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c65fc148-39d8-4d85-a854-e0ec52289a80
          stepCounter: 085b6f87-c340-44e4-b2fc-ac3fee870fd0
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0f9e4eff-3cfe-45fa-96bb-409b16777da4
                stepCounter: fe498ed3-3e90-4e48-b77c-27810ff3ceb7
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: b9cef4d9-4c34-478d-a424-ba84a500c23d
          NATION: baa4255b-8eae-4c22-b1c4-a90b4b52300a
          REGION: fe498ed3-3e90-4e48-b77c-27810ff3ceb7
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
