fileVersion: 1
id: 8387499f-6f62-4ddd-be70-69146811308b
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 02932394-fff1-4333-84dc-141e02c3fc05
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3135b7bc-9bb3-455a-b2c8-31c59e6cdf04
                stepCounter: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 56a2f8c4-d870-46d6-86a8-fd9d2267a8f2
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 56dd1fe4-db2f-4718-9b78-5ac5c26c5475
                stepCounter: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6fef2595-449d-49b0-8a0d-dfb9be3ade7e
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9252128a-a657-4fe1-900d-9bc035faa51b
                stepCounter: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 32a9aecf-4147-45d0-9f1b-83efca6402a5
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: abff19ac-431c-4820-a7b6-8dd2d1db5cb5
                stepCounter: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ba32922d-8606-42ee-b756-51b87ffe3d8d
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5db1bb53-3a70-462d-a587-abc7c618eb0d
                stepCounter: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f7b5828c-0e79-44a7-9f3e-e20f70a38341
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3d733741-a5ed-47c3-b3a6-bf08bcbe12e3
                stepCounter: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6778f015-2672-49a8-83b4-b34a967a5bab
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3d733741-a5ed-47c3-b3a6-bf08bcbe12e3
                stepCounter: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1e6d9aef-9adb-4ea4-a249-e3c24b7d7155
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aa6bc721-095b-4096-b6e8-f82a02b67b82
                stepCounter: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6f2d072f-5cdb-4688-acc0-6d4f96460f1b
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ab71518d-d909-4aa3-a265-5ef5f82b4052
                stepCounter: 4bddf5ed-4262-4084-8ffa-ce37705f3642
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8c1a1bd6-02c6-4083-9019-b024d64383a2
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9f992ca7-ae13-41a2-bb05-c3489d528be3
                stepCounter: 4bddf5ed-4262-4084-8ffa-ce37705f3642
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1c543277-8bb4-43f0-ba77-fcf2b8267244
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 02f5499f-3f60-471c-bbce-10010c3b191e
                stepCounter: 301410a1-1fd1-4a5f-ac86-0b52e54e11b3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c40da64f-cbe1-4baa-b348-3af6e2f0244a
          stepCounter: 8387499f-6f62-4ddd-be70-69146811308b
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 70e23f98-0c39-4928-86c6-ce7441184bd0
                stepCounter: 301410a1-1fd1-4a5f-ac86-0b52e54e11b3
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: d2ef11e7-2d6a-4f2f-8e27-81ba39d808e0
          NATION: 4bddf5ed-4262-4084-8ffa-ce37705f3642
          REGION: 301410a1-1fd1-4a5f-ac86-0b52e54e11b3
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
