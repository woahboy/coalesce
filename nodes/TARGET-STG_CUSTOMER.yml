fileVersion: 1
id: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 364fd68d-021d-4e99-a716-791216d638b5
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc97bf99-2307-43c5-9c55-da243e7f6ca9
                stepCounter: 94686c67-5579-4542-ae4b-2ffaf75f16a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2e2da10e-5086-492f-999c-3cc48ab789f1
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d7f06685-6ec2-4221-8c14-a73a2ec105c0
                stepCounter: 94686c67-5579-4542-ae4b-2ffaf75f16a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2cfccc24-bbd7-4f01-9657-525035d37d17
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 84a7bbf5-6911-4840-9ac0-54197669842b
                stepCounter: 94686c67-5579-4542-ae4b-2ffaf75f16a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08d42e85-9526-4af2-8292-00e3dc60b182
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e45e86e2-14ed-4323-b4ea-9f16804e7d58
                stepCounter: 94686c67-5579-4542-ae4b-2ffaf75f16a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4432b028-4c6e-49e1-877d-8bbf1e90205f
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a942eac0-c636-43b2-9014-bb71a6c14ac2
                stepCounter: 94686c67-5579-4542-ae4b-2ffaf75f16a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6bbe6c05-626c-4f76-a7a9-3e4d8166d040
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0963f552-30bb-4aa9-8a7c-06738a58acb6
                stepCounter: 94686c67-5579-4542-ae4b-2ffaf75f16a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4c528844-4d31-48a9-b8e2-7db83ae3ae00
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0963f552-30bb-4aa9-8a7c-06738a58acb6
                stepCounter: 94686c67-5579-4542-ae4b-2ffaf75f16a5
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3378fe08-fc71-4115-9bbc-0c4ed347e20e
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b4d7cf30-b8dc-46f8-9fe6-8a00df4200a5
                stepCounter: 94686c67-5579-4542-ae4b-2ffaf75f16a5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a5daa2e1-10b5-4506-b8a2-18590909b2d9
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9736e9f3-a249-46f8-9072-0e7aa633d819
                stepCounter: 80e90883-e15c-437f-8d8c-daa9f985329e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9c21887f-9c15-4266-88c2-12ed5a841c2e
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4868982f-53c5-40c1-ad76-01675ebbf6e1
                stepCounter: 80e90883-e15c-437f-8d8c-daa9f985329e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1abc4c57-ca49-4926-93b6-2f4f8f0e4697
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3e34edd1-5ced-49f3-b86c-0aa2a92a1a68
                stepCounter: 986bc5ad-2fd4-40be-84be-8e6950c8e35f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b2f69589-470e-4ef3-80de-7c966cc69128
          stepCounter: 455aeb5f-31c6-4df3-96b2-7d248b5caf05
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 349a6aad-34f9-4182-9ff1-068121c1230b
                stepCounter: 986bc5ad-2fd4-40be-84be-8e6950c8e35f
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 94686c67-5579-4542-ae4b-2ffaf75f16a5
          NATION: 80e90883-e15c-437f-8d8c-daa9f985329e
          REGION: 986bc5ad-2fd4-40be-84be-8e6950c8e35f
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
