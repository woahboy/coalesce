fileVersion: 1
id: 0254ec1f-b5f5-4774-9c61-23912da75592
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b78d33ef-55c2-4d25-9c91-1587870350de
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cf5429cd-b7e9-46d8-b3c9-f8e48a741351
                stepCounter: 5820ecc4-c725-4405-a797-6ae3d607c573
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dcb5635e-b227-40d9-b986-3dd7bbc222d7
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d652c110-d37e-4b00-bebf-6e34bdf3076c
                stepCounter: 5820ecc4-c725-4405-a797-6ae3d607c573
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d510477b-9c3d-4583-840d-f88799c2232b
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ec3855aa-955e-4821-8cbe-239494d61c40
                stepCounter: 5820ecc4-c725-4405-a797-6ae3d607c573
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b1d96879-e207-45eb-b87c-53f1b9bbc180
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 48e00227-6607-4e9d-b28b-1f3a95f3f1c3
                stepCounter: 5820ecc4-c725-4405-a797-6ae3d607c573
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 90c4330e-a74c-4d7b-a351-a4f74ce31895
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d89b50b3-0fe1-4e28-92c5-83c1362f9ceb
                stepCounter: 5820ecc4-c725-4405-a797-6ae3d607c573
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f45e46f6-1691-471e-9343-1602e8dc9d0b
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 500278eb-065b-48d8-8288-262907c88684
                stepCounter: 5820ecc4-c725-4405-a797-6ae3d607c573
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2bd98f5b-5c1b-4d55-9e3f-8cb06743e5c6
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 500278eb-065b-48d8-8288-262907c88684
                stepCounter: 5820ecc4-c725-4405-a797-6ae3d607c573
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0138e481-6d3f-4649-a047-8deceadecf98
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b1660bf7-5dec-4b1f-86be-352761e2e796
                stepCounter: 5820ecc4-c725-4405-a797-6ae3d607c573
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a0d901fd-b9b0-4646-847d-0ad7e44a9b81
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d57fe465-bfbe-468c-b337-d97b2cd8bc8e
                stepCounter: 7bb0d80d-2612-47af-819d-7d76363e0ecb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: da048eec-506b-4eec-87b7-b6c701c198fe
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f83f3883-2d2a-4cec-a9f9-87ca6094cb06
                stepCounter: 7bb0d80d-2612-47af-819d-7d76363e0ecb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8f1f818-5504-453f-adaa-a8e08246a78c
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e07ddac8-6348-4cbd-9072-4056a6c3f7c4
                stepCounter: e9a49461-b8e0-495b-bb39-11d76b2d55df
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 100e140d-e5e7-425e-a26d-284b78b948ee
          stepCounter: 0254ec1f-b5f5-4774-9c61-23912da75592
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cc3d46ad-9950-4466-b72b-9cd108e27e09
                stepCounter: e9a49461-b8e0-495b-bb39-11d76b2d55df
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 5820ecc4-c725-4405-a797-6ae3d607c573
          NATION: 7bb0d80d-2612-47af-819d-7d76363e0ecb
          REGION: e9a49461-b8e0-495b-bb39-11d76b2d55df
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
