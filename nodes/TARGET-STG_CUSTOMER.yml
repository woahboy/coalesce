steps:
  STG_CUSTOMER-7eb37746-3d71-4b68-98a5-4fa60dc65b43:
    operation:
      config:
        insertStrategy: INSERT
        postSQL: ""
        preSQL: ""
        testsEnabled: true
        truncateBefore: true
      database: ""
      deployEnabled: true
      description: Customer data as defined by TPC-H
      isMultisource: false
      locationName: TARGET
      materializationType: table
      metadata:
        appliedNodeTests:
          - continueOnFailure: false
            description: ""
            name: Test
            runOrder: Before
            templateString: |2-
                  SELECT
                    "C_MKTSEGMENT",
                    COUNT(*)
                  FROM
                    "JUSTIN_EDW"."DEV_EDW"."STG_CUSTOMER"
                  GROUP BY
                    "C_MKTSEGMENT"
                  HAVING
                    COUNT(*) > 1
        columns:
          - appliedColumnTests: {}
            columnReference:
              columnCounter: 11d8296b-840f-45ee-b640-a1f92a8bbb6e
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: NUMBER(38,0)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_CUSTKEY
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 518533fe-eaec-4206-99c5-67ddc389c719
                    stepCounter: 42512d53-ba11-4aee-9094-1c74abd1fc1f
                transform: ""
          - appliedColumnTests: {}
            columnReference:
              columnCounter: 3e36a026-3780-4364-b55b-d3ab8022977a
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(25)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: d4fd4ce4-be59-4205-8647-88dbfa58047c
                    stepCounter: 42512d53-ba11-4aee-9094-1c74abd1fc1f
                transform: ""
          - appliedColumnTests: {}
            columnReference:
              columnCounter: b6dcad1f-c977-464c-a5f8-b8b823005215
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(40)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_ADDRESS
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 8c41f6ed-3f92-42a4-9ca6-a7d6c2546fe7
                    stepCounter: 42512d53-ba11-4aee-9094-1c74abd1fc1f
                transform: ""
          - appliedColumnTests: {}
            columnReference:
              columnCounter: d760ad30-a222-4852-8583-1885706a4626
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(15)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_PHONE
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 0fcd6e84-f2d5-43a7-b516-56cf3a0fd99b
                    stepCounter: 42512d53-ba11-4aee-9094-1c74abd1fc1f
                transform: ""
          - appliedColumnTests: {}
            columnReference:
              columnCounter: 79f6d7ac-78a7-43d8-ae35-a26c0b8c0ec0
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: NUMBER(12,2)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_ACCTBAL
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 4d762731-d708-4982-8ecb-6420c6187147
                    stepCounter: 42512d53-ba11-4aee-9094-1c74abd1fc1f
                transform: ""
          - appliedColumnTests: {}
            columnReference:
              columnCounter: aed1cab8-51fd-4969-a097-b479b97f364c
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(10)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_MKTSEGMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: ecd8d80e-250e-4a9f-90cd-259483dd19f8
                    stepCounter: 42512d53-ba11-4aee-9094-1c74abd1fc1f
                transform: ""
          - appliedColumnTests: {}
            columnReference:
              columnCounter: effc27d0-5d4e-4271-a0ac-3a80387edb2e
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(10)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_VALUE
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: ecd8d80e-250e-4a9f-90cd-259483dd19f8
                    stepCounter: 42512d53-ba11-4aee-9094-1c74abd1fc1f
                transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
          - appliedColumnTests: {}
            columnReference:
              columnCounter: f6acaf90-f754-455f-abc7-da2a58c297e5
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(117)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 4c7f2741-05d1-4f1b-950f-820ac2ab4df9
                    stepCounter: 42512d53-ba11-4aee-9094-1c74abd1fc1f
                transform: ""
          - appliedColumnTests: {}
            columnReference:
              columnCounter: 4927d43e-5fed-4321-9009-6b0f8497861a
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(25)
            description: ""
            name: N_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 4e8a5814-3c99-4d87-81d4-0af06852d5c9
                    stepCounter: 25f69740-2dad-4a4f-b781-1addabba9ec3
                transform: ""
          - appliedColumnTests: {}
            columnReference:
              columnCounter: 1ecb0734-22b4-4314-9b37-717048615043
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(152)
            description: ""
            name: N_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: a3fb4a4f-e6bd-46f9-a295-72a8e91694f5
                    stepCounter: 25f69740-2dad-4a4f-b781-1addabba9ec3
                transform: ""
          - columnReference:
              columnCounter: b477a48f-19d1-4063-ac4c-ce6021ac6795
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(25)
            description: ""
            name: R_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: ff85baa1-83a1-40ca-b359-fe1be032630a
                    stepCounter: 0d1ebef2-66b3-454b-8d33-2b7a9e7524c5
                transform: ""
          - columnReference:
              columnCounter: a5d99eb9-73ed-449b-8ad1-e287f1525c3c
              stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
            dataType: VARCHAR(152)
            description: ""
            name: R_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 7f5572be-1e4d-4556-8162-4e153d0a38ce
                    stepCounter: 0d1ebef2-66b3-454b-8d33-2b7a9e7524c5
                transform: ""
        cteString: ""
        enabledColumnTestIDs: []
        sourceMapping:
          - aliases:
              CUSTOMER: 42512d53-ba11-4aee-9094-1c74abd1fc1f
              NATION: 25f69740-2dad-4a4f-b781-1addabba9ec3
              REGION: 0d1ebef2-66b3-454b-8d33-2b7a9e7524c5
            customSQL:
              customSQL: ""
            dependencies:
              - locationName: SOURCE-1
                nodeName: CUSTOMER
              - locationName: SOURCE-1
                nodeName: NATION
              - locationName: SOURCE-1
                nodeName: REGION
            join:
              joinCondition: |-
                FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
                INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
                ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
                INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
                ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
            name: STG_CUSTOMER
            noLinkRefs: []
      name: STG_CUSTOMER
      overrideSQL: false
      schema: ""
      sqlType: Stage
      type: sql
    stepCounter: 7eb37746-3d71-4b68-98a5-4fa60dc65b43
