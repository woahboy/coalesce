fileVersion: 1
id: d2182581-ff5d-4987-8b74-c7378967ffb8
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: edffbdda-c616-42ec-b78b-8bb4bd1a695f
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e401fccd-353f-4a95-afbf-aad63d17a8a2
                stepCounter: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ab7403d5-a879-49cd-9821-ce67fba00859
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1fd59458-77b4-4bae-9585-bcbbc4b67774
                stepCounter: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d2d986b9-8804-44ad-ad31-a4e7d35c913a
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e50b4914-b452-4ed9-bff6-f714820fe1cc
                stepCounter: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d7464add-800b-4b60-b9e3-bc58548e82b2
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b585cba6-f688-436a-920e-99dedc312623
                stepCounter: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f4269b41-fd0e-455e-98d9-dad23f8c7871
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0877a5a6-3035-4af7-8cc0-0f9756b3da98
                stepCounter: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 05281b5b-06b1-49c4-ae66-a9c8edc78a9a
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c88addea-11b9-4933-b088-e4dcfcd2acd7
                stepCounter: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 909b3264-cab2-4a8f-b699-0f69ea48c052
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c88addea-11b9-4933-b088-e4dcfcd2acd7
                stepCounter: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING','HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ecafe53-ea3f-474b-a5cb-b0ef042b91f1
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7df07494-fc6d-49e8-bc17-0aa264a653e7
                stepCounter: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d16093dd-4ed2-4968-87e1-bd7d330025e0
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e013a32-9326-4380-a80e-7824498b0b4e
                stepCounter: 0f2dbee6-7787-44cd-a7a8-871a23afed2d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2c1435d4-8ca9-42c8-9a54-c26a0d021146
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 68ba078f-1baf-4b0b-98e3-85c2e65d4b33
                stepCounter: 0f2dbee6-7787-44cd-a7a8-871a23afed2d
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aabe5511-3a47-40a4-8089-ab2343d7e2a1
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ce07cba5-c5d6-44d5-b1a9-d89009a284a8
                stepCounter: b9b20c1c-b84d-4007-83d0-b8d46c103c5e
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d8c4698a-dc10-403a-86bf-fb1e0ed042c8
          stepCounter: d2182581-ff5d-4987-8b74-c7378967ffb8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: faea27dd-60c9-4ce8-8d86-e6bd661b08c6
                stepCounter: b9b20c1c-b84d-4007-83d0-b8d46c103c5e
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 00d9ebc7-2ad1-434c-9ef5-bcc3778784ef
          NATION: 0f2dbee6-7787-44cd-a7a8-871a23afed2d
          REGION: b9b20c1c-b84d-4007-83d0-b8d46c103c5e
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
