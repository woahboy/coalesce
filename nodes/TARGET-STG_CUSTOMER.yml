fileVersion: 1
id: f71d9f5e-edf9-4499-a397-121aae8b49bb
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 82f9372b-20cd-4bd6-91d4-5131e3c2bab1
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 90883451-76ca-4412-87d3-29923a5f3aad
                stepCounter: b8fbd893-3515-4b04-8a30-a867a7da8ccb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5adb6275-46d5-42ce-8335-299a324e2a03
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 570e5c7a-3131-4ce0-a480-11ea0ab6c045
                stepCounter: b8fbd893-3515-4b04-8a30-a867a7da8ccb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ba42dfdd-1013-4030-9039-2b5853d4d49b
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b460a348-4345-4228-aea8-faf6cec7557c
                stepCounter: b8fbd893-3515-4b04-8a30-a867a7da8ccb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: deaf205e-47c4-471b-a6eb-2b784cfb719d
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c76c1287-48e4-49c3-a129-07ac82de4847
                stepCounter: b8fbd893-3515-4b04-8a30-a867a7da8ccb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3159180b-d3ff-4ff2-b43c-d5d8f261d38c
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 94cdc8e5-655b-49ec-ba9b-cd49050da0e3
                stepCounter: b8fbd893-3515-4b04-8a30-a867a7da8ccb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 609cb599-0be9-4d9d-b649-7c6023abd2db
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 21ba9153-b9bf-436d-a977-1537099f8e31
                stepCounter: b8fbd893-3515-4b04-8a30-a867a7da8ccb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1eefdc8d-5ac5-448e-9b08-7346fe745dd6
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 21ba9153-b9bf-436d-a977-1537099f8e31
                stepCounter: b8fbd893-3515-4b04-8a30-a867a7da8ccb
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08774f7e-77ee-48f4-8f98-2a99bc9b153b
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 99763465-0775-4d38-86a5-9be6f5f718ff
                stepCounter: b8fbd893-3515-4b04-8a30-a867a7da8ccb
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dad8952f-4b34-41f2-a38a-0dcbafc55ce5
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 498ea6cf-ef4e-49af-9101-021943d5a341
                stepCounter: c6f97cc2-7810-46e7-a4f3-b494321f74c3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 78bf3245-0d95-47ab-82ee-20a164bc7016
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bf348eb1-ca1f-4c5b-be04-420e2adfbd85
                stepCounter: c6f97cc2-7810-46e7-a4f3-b494321f74c3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bad98ca9-33b8-40c2-9d11-1585b1b075f1
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1e62cbab-02be-46ce-ae4c-24781ee3c809
                stepCounter: 023a0422-7464-4b43-b435-f66a6a92a66b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2848209c-0739-48d1-9587-aaa2433ac954
          stepCounter: f71d9f5e-edf9-4499-a397-121aae8b49bb
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 223040e9-7501-4270-8d07-93841e028d2c
                stepCounter: 023a0422-7464-4b43-b435-f66a6a92a66b
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: b8fbd893-3515-4b04-8a30-a867a7da8ccb
          NATION: c6f97cc2-7810-46e7-a4f3-b494321f74c3
          REGION: 023a0422-7464-4b43-b435-f66a6a92a66b
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
