fileVersion: 1
id: b3ba2c10-a861-4676-8d03-d1207eaac162
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 26316e02-2580-4806-a91f-7c6527ccceac
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 08ca1a15-093a-4bc4-968c-d3890bdff852
                stepCounter: eb0dd505-caca-41e6-a102-5b9edeb18535
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 13fd0824-727b-488f-bcc8-4454b5701da1
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ffd935c0-0046-4ec0-a6b9-8219b8bc105f
                stepCounter: eb0dd505-caca-41e6-a102-5b9edeb18535
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ca8df90b-76da-485b-b98f-f35854b007f6
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 897d55a7-939c-468a-b56d-dce99cf36bd7
                stepCounter: eb0dd505-caca-41e6-a102-5b9edeb18535
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 61f11b5f-4648-4534-9758-0269cd6b794e
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 50a8719b-fb7d-402c-bbfc-35271591cdb2
                stepCounter: eb0dd505-caca-41e6-a102-5b9edeb18535
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4bbade69-12b2-42c0-90e3-c1c9e3175bc4
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1bdb2296-4437-4231-a81c-01d46d3e6a74
                stepCounter: eb0dd505-caca-41e6-a102-5b9edeb18535
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 99e02989-cd62-4720-b269-fdc5ba33b38e
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 816c23cc-e016-4fda-a7be-34a83ed06e46
                stepCounter: eb0dd505-caca-41e6-a102-5b9edeb18535
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 183936b6-c6c9-4848-b64e-bdd6566e9a2a
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 816c23cc-e016-4fda-a7be-34a83ed06e46
                stepCounter: eb0dd505-caca-41e6-a102-5b9edeb18535
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 15e7a195-17a2-4922-ac9c-71694f40b6bf
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 15eea0fa-b32c-40d6-8415-5b073a40d0e1
                stepCounter: eb0dd505-caca-41e6-a102-5b9edeb18535
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8c5319a2-66ad-4a37-8723-5b4fc1576941
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 77dfde2b-7ab5-43ff-b909-0034e7f1eeb9
                stepCounter: 67eceae0-baad-4025-a637-6028f8f32698
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 67b81e86-8e8f-41ee-9dd0-e9263d4033c0
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 34c2c1df-5e79-4023-a9ec-f91aece92b1e
                stepCounter: 67eceae0-baad-4025-a637-6028f8f32698
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ebe0246b-df4a-4df9-a235-f81070f09391
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a99cf478-16e9-4ac0-906d-9225ee1a64da
                stepCounter: 78274728-a14e-4f34-bcf6-1a9f4a57eff7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 45c4a251-e4e3-4f75-9d8f-087895255b0a
          stepCounter: b3ba2c10-a861-4676-8d03-d1207eaac162
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 38603f13-27b8-485a-8667-e02d0dbeb685
                stepCounter: 78274728-a14e-4f34-bcf6-1a9f4a57eff7
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: eb0dd505-caca-41e6-a102-5b9edeb18535
          NATION: 67eceae0-baad-4025-a637-6028f8f32698
          REGION: 78274728-a14e-4f34-bcf6-1a9f4a57eff7
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: "464"
  type: sql
  version: 1
type: Node
