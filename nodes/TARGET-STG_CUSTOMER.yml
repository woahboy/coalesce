fileVersion: 1
id: adf98235-4df5-40c1-a4c9-4ef66733dd35
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d23dfd58-e6a1-4847-85af-bad264d4b810
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 635677f6-9e54-4567-8c4d-4d704d0ace45
                stepCounter: 1a9655d8-9270-468d-9caf-713824d7f754
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: da8299fd-d951-4867-82a4-ce69c16a33db
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3947227f-c359-4eb7-8509-e1dd4d103f3d
                stepCounter: 1a9655d8-9270-468d-9caf-713824d7f754
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c984870c-0c6f-404a-941b-3b18aa15e5f2
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e970126e-053b-4a14-9bcc-d379bfb0968a
                stepCounter: 1a9655d8-9270-468d-9caf-713824d7f754
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 83259baa-d40d-4686-ae9c-000284eb7471
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 965470fc-f865-4854-824f-bd793b0be655
                stepCounter: 1a9655d8-9270-468d-9caf-713824d7f754
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb4efeed-8318-47fd-bfcf-3bc24b31a5dc
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c13c5c55-604c-410e-a1a2-fbd41bd8ecde
                stepCounter: 1a9655d8-9270-468d-9caf-713824d7f754
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7c28a7fa-f704-4914-a1f2-17363e554d96
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dc022fd3-48e4-419d-b92a-5f150c54a026
                stepCounter: 1a9655d8-9270-468d-9caf-713824d7f754
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d90d0a35-e121-4414-a329-d7cc8629f01f
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dc022fd3-48e4-419d-b92a-5f150c54a026
                stepCounter: 1a9655d8-9270-468d-9caf-713824d7f754
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b974e442-94e7-4dc5-aff6-3baa8b63cdb2
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d1ed8da4-d3cc-4f7c-97fc-882773b35cfb
                stepCounter: 1a9655d8-9270-468d-9caf-713824d7f754
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fc0cde9e-6aab-4d75-8d5a-3aff25865a4b
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ad492b16-e10c-4fc8-99bd-977b6db03c62
                stepCounter: 81ccc9d0-d588-4f55-ae05-78d6ccac4993
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0cb80206-bf15-494b-a8f3-18f880a8d2c6
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3011ba2e-269f-413d-a85e-bc1dddcc3001
                stepCounter: 81ccc9d0-d588-4f55-ae05-78d6ccac4993
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7b5c385a-9169-4b1b-a091-bda7ace600c8
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 360333dc-fd1d-43ec-8f67-53c3d457f474
                stepCounter: 63f58877-f558-4e24-9b96-2850fa899419
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1f9b3a62-b96e-4d76-b97d-aeb26c832b32
          stepCounter: adf98235-4df5-40c1-a4c9-4ef66733dd35
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2f5fbe5b-a8e4-4003-abd3-5aa824dbeae3
                stepCounter: 63f58877-f558-4e24-9b96-2850fa899419
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 1a9655d8-9270-468d-9caf-713824d7f754
          NATION: 81ccc9d0-d588-4f55-ae05-78d6ccac4993
          REGION: 63f58877-f558-4e24-9b96-2850fa899419
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
