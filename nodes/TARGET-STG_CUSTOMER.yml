fileVersion: 1
id: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d13cd9d6-10c9-4d14-be1c-0a659ca3dc30
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bf04d434-8e96-4a8c-9e49-2f9f7502da6d
                stepCounter: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3892da0e-68b7-4994-8585-61279c080b6e
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8edcbf60-a5c7-495a-93db-ec382a1a01f1
                stepCounter: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aa36ff76-adf5-47d9-860e-92dff8384cd6
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 282b2061-0664-436b-a03c-e1a78b0263f7
                stepCounter: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7227024e-8d88-45ac-ab03-448def29a68c
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 49e805e7-ae16-41cd-874a-39013189038f
                stepCounter: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9118009b-e8a0-4b9b-9e11-da042cd1dab9
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 61080c50-fa4e-4bcc-8597-7cb5b91f5336
                stepCounter: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08336166-e327-4e91-ba32-402619744dfe
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7cddc873-140a-42b6-8b8b-2e49f225085e
                stepCounter: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cc057591-72b2-4c7b-a14d-4562ed2194dc
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7cddc873-140a-42b6-8b8b-2e49f225085e
                stepCounter: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d9ec0302-decf-4030-a0ff-116b40af6648
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 76c45cc2-d106-4659-80b4-9e6187c1087a
                stepCounter: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8d447ec-800f-47f8-848c-56381b574188
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4ef853bf-8a00-47bb-aebe-3b7def1756ae
                stepCounter: 7e072b59-d323-4add-8b96-504b12579f1f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f621eb28-08a7-4509-88f3-536d3232b58e
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ac3de73b-0198-4d41-83e3-04b371d84833
                stepCounter: 7e072b59-d323-4add-8b96-504b12579f1f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd4b96e9-6c68-4128-a361-ac6b1b21b725
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6cd0b502-a329-4be4-a268-f22a0f5c7d9d
                stepCounter: 535a75e7-30f5-4921-94cd-bf3c2a9195d0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ad200600-ba55-4a51-b367-93408c32cc93
          stepCounter: 9e9d3f91-eab9-4f16-b68a-3967e5db648e
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 44e20379-d149-4d9f-9d6b-9e8eb3b6b6b4
                stepCounter: 535a75e7-30f5-4921-94cd-bf3c2a9195d0
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: f9ab8d9d-f53f-4d24-8e24-84b3eaa0310c
          NATION: 7e072b59-d323-4add-8b96-504b12579f1f
          REGION: 535a75e7-30f5-4921-94cd-bf3c2a9195d0
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
