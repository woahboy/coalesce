fileVersion: 1
id: 08171bc3-c743-480a-b304-f444e9c3dbfd
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb8c542c-4aa1-417f-a620-85db586045f5
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 03f6a7d1-5fd8-42f1-b859-9b1e254b5c50
                stepCounter: b4e3e372-2dbc-4569-95af-c3a04f2e333b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: af28564d-66cb-4850-bdce-16c567aa1eb3
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e785f572-b390-4078-8d80-c43d119feeaa
                stepCounter: b4e3e372-2dbc-4569-95af-c3a04f2e333b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f17785c6-5af7-47ed-925c-fb26ab40ca12
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c8e740b9-a36a-467e-967d-29f184230f59
                stepCounter: b4e3e372-2dbc-4569-95af-c3a04f2e333b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5ca117b6-d1e5-4c69-83cb-b18442e20fe0
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1fe17655-2506-4ac0-bb7f-ba78e6723723
                stepCounter: b4e3e372-2dbc-4569-95af-c3a04f2e333b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4cbdef2f-1859-4388-baba-3ae1314f40f3
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fe8e66c9-1875-4b8f-9eef-c455aa53a05e
                stepCounter: b4e3e372-2dbc-4569-95af-c3a04f2e333b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 08106ce4-c004-4840-99f9-0f4da9f8e310
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bef8259a-5396-4068-bdf5-c061b9406841
                stepCounter: b4e3e372-2dbc-4569-95af-c3a04f2e333b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7f660cea-cc57-49b9-946d-8404a95ea69a
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bef8259a-5396-4068-bdf5-c061b9406841
                stepCounter: b4e3e372-2dbc-4569-95af-c3a04f2e333b
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b541ab7c-6b75-4dbd-97af-fee58516f09c
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1fa6eeb5-7c22-4d48-998f-baf2f956fcc5
                stepCounter: b4e3e372-2dbc-4569-95af-c3a04f2e333b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a8083a6d-d2cd-408d-9535-e427e37069c8
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 513e4875-6e04-475a-973c-6ebd63f2e472
                stepCounter: ea269f08-ae1b-4b4a-9ee9-2a23fdc05ab8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 273580c1-435d-49a3-a293-35e925fa5575
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8a7dbbeb-490a-4de5-8a8a-426c15353749
                stepCounter: ea269f08-ae1b-4b4a-9ee9-2a23fdc05ab8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b6d37aa4-1ca3-4f4c-8dfd-283ffa936146
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 59a812fe-e37c-48fb-bc15-11428c0606e3
                stepCounter: 2c3bd952-5e60-4392-9335-04edc398cae8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bb653d84-2f6e-4421-b574-87049eb93239
          stepCounter: 08171bc3-c743-480a-b304-f444e9c3dbfd
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 41da5481-e114-4d66-b5fb-d2325e0da5ad
                stepCounter: 2c3bd952-5e60-4392-9335-04edc398cae8
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: b4e3e372-2dbc-4569-95af-c3a04f2e333b
          NATION: ea269f08-ae1b-4b4a-9ee9-2a23fdc05ab8
          REGION: 2c3bd952-5e60-4392-9335-04edc398cae8
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
