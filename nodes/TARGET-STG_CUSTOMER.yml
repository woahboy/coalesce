fileVersion: 1
id: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d04321cd-ee85-4b40-a75d-8a7e5efb78d8
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: af068815-5560-4000-9fac-6be152a4f85f
                stepCounter: fab62120-1c05-4905-aa3d-8541c19667d2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ca19cb3-01e1-4e0f-8b41-d9d33a300123
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4f662855-cb5f-47c6-9c2c-bfdd5c8e2b29
                stepCounter: fab62120-1c05-4905-aa3d-8541c19667d2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bbc55e3d-aadc-4ce5-8977-f84b1695a575
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2001899f-d715-4240-ab28-4a5c9d101b4a
                stepCounter: fab62120-1c05-4905-aa3d-8541c19667d2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 36c48ed8-cead-4f8c-9449-ec9aae116970
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d815d765-2971-4cc1-92e0-ea1219846be7
                stepCounter: fab62120-1c05-4905-aa3d-8541c19667d2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8b317d32-97f8-4fc5-9d56-709609ccc5cc
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 810fcd26-3a45-4bd1-81c2-08d41d41e173
                stepCounter: fab62120-1c05-4905-aa3d-8541c19667d2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 667ce812-efe5-4654-af2a-34d2722ff84c
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e1d8f3c6-7f57-4016-9903-c2fa7c7695ff
                stepCounter: fab62120-1c05-4905-aa3d-8541c19667d2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d2b67e77-437a-425e-b450-cc0e223b2450
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e1d8f3c6-7f57-4016-9903-c2fa7c7695ff
                stepCounter: fab62120-1c05-4905-aa3d-8541c19667d2
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d1e83248-d68a-486d-a368-897ec5421e3d
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 063aabcd-6d92-4080-b143-cb1f1b32e28f
                stepCounter: fab62120-1c05-4905-aa3d-8541c19667d2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 16437fcf-e5c5-490b-a3a1-655887bdda28
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2c89fa86-19bb-49f7-9c80-bb1408efb8b8
                stepCounter: be5b3f86-e486-4cc9-b129-274da4246ab9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3a4483ad-5627-4718-8456-76c827c3397f
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9217463d-afdb-4a27-bc0a-88c700e87a1d
                stepCounter: be5b3f86-e486-4cc9-b129-274da4246ab9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b61ff702-5203-460d-a0e2-3cc724c6186f
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f9112e74-7ef2-45d3-9b4c-d0cf9dd46064
                stepCounter: dad9352f-8626-4a93-880a-83c1f993f1b9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 829d26ba-4b00-4097-8bd2-441b2d817928
          stepCounter: 45646cd3-4871-4bcb-8dc1-41c4791d98f0
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d1622175-7d41-43dc-bcd3-dbf16837711c
                stepCounter: dad9352f-8626-4a93-880a-83c1f993f1b9
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: fab62120-1c05-4905-aa3d-8541c19667d2
          NATION: be5b3f86-e486-4cc9-b129-274da4246ab9
          REGION: dad9352f-8626-4a93-880a-83c1f993f1b9
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
