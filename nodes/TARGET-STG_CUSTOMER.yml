fileVersion: 1
id: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d3761690-6bdf-4bd4-8799-84fc81136b59
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f501d13-d448-4aad-b569-34484c24c373
                stepCounter: dda3e50d-131c-40e1-91d3-5e5cdcb74767
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 54be9d89-80ac-4471-8487-309ea536d08d
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3137406c-47c3-48e6-bb5f-158fd27fcc2b
                stepCounter: dda3e50d-131c-40e1-91d3-5e5cdcb74767
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 603d7a68-3560-416c-9890-1a7613a5fe6b
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a135cf95-f2e0-448e-9850-cdc3e650cf24
                stepCounter: dda3e50d-131c-40e1-91d3-5e5cdcb74767
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 46820435-ac30-46b6-b6b8-75cdf6074666
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashColumns: []
        hashDetails: null
        name: PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fc22033b-98bc-4817-9b03-ef952ee87941
                stepCounter: dda3e50d-131c-40e1-91d3-5e5cdcb74767
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 24c10b89-829a-42c7-9827-4a11021ca264
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fb2c3667-5c3a-4a8b-8c80-55af19f97b63
                stepCounter: dda3e50d-131c-40e1-91d3-5e5cdcb74767
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aec4711f-8707-4944-b40f-b353c44c392b
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f1c13eda-78e7-41b4-a15e-00e4646801c1
                stepCounter: dda3e50d-131c-40e1-91d3-5e5cdcb74767
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6d0c79ff-fe8f-463c-b05b-4f2bd2db6b21
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f1c13eda-78e7-41b4-a15e-00e4646801c1
                stepCounter: dda3e50d-131c-40e1-91d3-5e5cdcb74767
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e135a335-1e68-4529-adcc-7c27a320c26f
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7cbce751-6552-4046-99d0-fbfc2c411d4f
                stepCounter: dda3e50d-131c-40e1-91d3-5e5cdcb74767
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8298554b-4b65-4d07-af6e-a37f11790f3a
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8b34890a-4414-4206-ace9-61c22ecf7c7c
                stepCounter: 5a638a5b-5d59-4df8-9af0-2015ee3b40ea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7535912b-2cf9-405d-895e-a4b26c40ca11
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e330746a-5e41-4b68-bff5-e36348a153ab
                stepCounter: 5a638a5b-5d59-4df8-9af0-2015ee3b40ea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aaf6b25d-baa8-4268-a357-675c00b3d202
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 89a56bc5-add1-46d9-b92b-f05b8744583f
                stepCounter: 28f28ae1-5dc6-4829-853a-8a73f8cd1563
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 19380d46-15d0-4195-b5a0-9e7a885e064d
          stepCounter: c63c20e4-ddc3-48fe-80b2-5e3bf8766a4f
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 53027342-08a9-4041-8bc9-e671987474e9
                stepCounter: 28f28ae1-5dc6-4829-853a-8a73f8cd1563
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: dda3e50d-131c-40e1-91d3-5e5cdcb74767
          NATION: 5a638a5b-5d59-4df8-9af0-2015ee3b40ea
          REGION: 28f28ae1-5dc6-4829-853a-8a73f8cd1563
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE-1
            nodeName: CUSTOMER
          - locationName: SOURCE-1
            nodeName: NATION
          - locationName: SOURCE-1
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
type: Node
