fileVersion: 1
id: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9b4546b5-596e-43b2-8096-7ab5826ac6bb
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: aef20590-fbf3-4fa8-a5c2-03c13ad31dbb
                stepCounter: 476cf255-09d7-4f41-9828-ea245c3b4a47
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 665f373c-00cb-4154-b646-a9843c1a2883
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 220721c8-6c73-4a6f-a314-aaba8305de6d
                stepCounter: 476cf255-09d7-4f41-9828-ea245c3b4a47
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f948e05b-76e5-4f16-8dd6-2ed55067ad94
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1e4b58b3-0e68-4f78-baa3-051ce29289d3
                stepCounter: 476cf255-09d7-4f41-9828-ea245c3b4a47
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7d124e9a-a2d3-4f09-87fc-e7a09fc50201
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a3d07e95-1c59-4fbc-99ae-7d8fbd8617d0
                stepCounter: 476cf255-09d7-4f41-9828-ea245c3b4a47
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c01ed695-a6ec-46f3-98ce-c2ea3d4291d6
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 17a93fc2-8889-4740-b8d4-713473f8ef8f
                stepCounter: 476cf255-09d7-4f41-9828-ea245c3b4a47
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e2d266c6-454b-4afd-ae78-0f09361b85cf
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 35df8ef4-c4b5-4727-862b-447943cfb332
                stepCounter: 476cf255-09d7-4f41-9828-ea245c3b4a47
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3684c2ad-a48c-41b3-b871-e8e573655dc9
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 35df8ef4-c4b5-4727-862b-447943cfb332
                stepCounter: 476cf255-09d7-4f41-9828-ea245c3b4a47
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 48c63591-d97c-4e97-994b-1c7b88e63268
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f0697dca-79a9-4caa-a9fb-c8bffa08f1be
                stepCounter: 476cf255-09d7-4f41-9828-ea245c3b4a47
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a40955d-c6c5-44bc-8cc5-6ab5f289e214
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 33a2de63-6560-441c-bf8b-e4a7d359da87
                stepCounter: 9d429fda-778a-4840-9f5b-619ca5f9417b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9844032b-ecec-422b-a49c-6f4067a38aef
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1727ec31-f091-4113-999f-c56acb74a624
                stepCounter: 9d429fda-778a-4840-9f5b-619ca5f9417b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9296b82f-54fa-49f0-b925-7b7be6f0d07a
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6e8c70a2-5c77-4248-9e42-d865e78bf707
                stepCounter: e1003b0d-1a5f-4f31-8de3-abe68324c715
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 338e65dc-0205-42f2-9bd7-e2ffd999b5c6
          stepCounter: 0d7684f0-92b5-42bc-b872-87d41f2ec5ba
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a0b1f479-f1e4-4e2a-aeb3-c917fb8e19d0
                stepCounter: e1003b0d-1a5f-4f31-8de3-abe68324c715
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 476cf255-09d7-4f41-9828-ea245c3b4a47
          NATION: 9d429fda-778a-4840-9f5b-619ca5f9417b
          REGION: e1003b0d-1a5f-4f31-8de3-abe68324c715
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
