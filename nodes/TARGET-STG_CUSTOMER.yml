fileVersion: 1
id: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a7c3cdac-e260-430f-a57a-24b0f5b85f63
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4e21fbf4-2b09-4c34-b590-03939b8b7910
                stepCounter: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f57d3529-50da-463f-95ba-44a09d02d368
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9df28924-1129-4f8f-b2e7-8ea99365a7e8
                stepCounter: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7d181092-f315-4f0b-8ab4-060ba6e7af1c
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1167506c-3178-4166-84da-3f8b8039a466
                stepCounter: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 77fd3cd8-4111-4812-9d5c-cb687aa7f01d
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashColumns: []
        hashDetails: null
        name: PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 07ea535a-d8a8-472b-9f54-a86b0dbfcb35
                stepCounter: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ecbca27-a6c0-4f0a-b720-9a27c9d1d0b0
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8ab3f61c-31f3-451c-bc98-0e0315a9c4f5
                stepCounter: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9671c1a0-f998-4177-80df-9bd929afc702
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6728ebe3-632d-4a14-8fe3-e2fdc272e296
                stepCounter: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 903a3f9c-62df-4f0d-93e5-5fb8e6520e9a
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6728ebe3-632d-4a14-8fe3-e2fdc272e296
                stepCounter: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING','HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1c5887dd-105b-4280-83a3-77a1e3f0bb3d
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 371633e6-94b8-4c7b-9174-2282870cdbee
                stepCounter: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e02ded5f-36fb-4dd4-b690-04983bd45e12
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57b8af6b-f470-4293-b2bc-d21fe29515d4
                stepCounter: b79dbaa7-690a-4ce7-bb0b-ea5d1937b347
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 00340430-07d3-4225-ab52-8098991b0fe0
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f651cb0c-1e43-4d09-976f-6b4b95a4a1f8
                stepCounter: b79dbaa7-690a-4ce7-bb0b-ea5d1937b347
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4a6bab8a-dc77-41dd-ae54-ba776813f4cd
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 21d0a404-fb85-4f2a-b351-a3217df9108d
                stepCounter: 9e41a96d-5cb9-42e5-986f-955f840bad3b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6f14d042-8c94-42e5-a117-46e47861cb56
          stepCounter: 2c67c799-30b5-4e32-b098-9f8bc3ea1f0a
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ac1fd420-8088-495e-9706-6dcb531c10ea
                stepCounter: 9e41a96d-5cb9-42e5-986f-955f840bad3b
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: bb3b56bc-9fe3-4c43-aad5-f8dd7dbce48a
          NATION: b79dbaa7-690a-4ce7-bb0b-ea5d1937b347
          REGION: 9e41a96d-5cb9-42e5-986f-955f840bad3b
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE-1
            nodeName: CUSTOMER
          - locationName: SOURCE-1
            nodeName: NATION
          - locationName: SOURCE-1
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
type: Node
