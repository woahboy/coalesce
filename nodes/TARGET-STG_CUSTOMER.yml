fileVersion: 1
id: a458c568-0101-48ef-a87e-e3dc75c60836
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 34f245de-d9a7-44be-8f2f-dd5474a344f3
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b21cdae9-d82a-493d-9cbd-2ae574b9a7bd
                stepCounter: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0a220f62-e688-4d37-9610-a31d651b71a4
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 35333855-2993-43de-b778-e5f7d153ac57
                stepCounter: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7e0fd6bb-77a2-4d07-a025-1c4ade0f1399
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c18b5260-659e-4eb0-aae9-557676480aec
                stepCounter: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3fb7f004-2eec-4d37-a431-21f53b6303e6
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2db2dd67-37ca-448e-ad99-de7c40437400
                stepCounter: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8bf964a3-3ace-48ef-8d9b-994de855d60f
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 16f4b892-0dba-4b07-a30a-f21d7c2dc6aa
                stepCounter: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 631b2d73-7895-46f5-b895-a4cbec34da04
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2d3179dc-121a-4a69-b973-6abe6a4b8f99
                stepCounter: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 764921a2-1ae5-44eb-9c61-49bb303fff39
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2d3179dc-121a-4a69-b973-6abe6a4b8f99
                stepCounter: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e28b202b-560c-4717-a038-9f72d601ab3f
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 43718f88-66ad-4069-ba3d-b7e9a7acec40
                stepCounter: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f92c101d-ed84-415e-9532-b3c26ca9774e
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c6838d72-312c-41c6-99b0-b68b560f4dc6
                stepCounter: e955f7f8-75ab-497f-9fd5-f6315b19ce76
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 21c62fc2-a3fe-4491-9252-4a9e728101ac
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0b17b2a1-be34-4780-bbc9-373a5afd8f50
                stepCounter: e955f7f8-75ab-497f-9fd5-f6315b19ce76
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fc1a0871-719e-4801-bc0a-78e56e71053e
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 012e3a06-22bf-48b0-85d4-79f2547cf9a1
                stepCounter: fcb8bfbe-57c9-480a-a504-63f00b1fe515
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d404b186-4382-483e-9fad-c2a1760ac6ef
          stepCounter: a458c568-0101-48ef-a87e-e3dc75c60836
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dbb467b3-d240-48e8-aeab-d5be987e66e0
                stepCounter: fcb8bfbe-57c9-480a-a504-63f00b1fe515
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 0b03b6ca-3f83-40fa-8fa9-74e77866a582
          NATION: e955f7f8-75ab-497f-9fd5-f6315b19ce76
          REGION: fcb8bfbe-57c9-480a-a504-63f00b1fe515
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
