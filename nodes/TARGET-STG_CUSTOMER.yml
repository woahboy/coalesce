fileVersion: 1
id: da39cda4-5556-40d0-af8d-86d6e69eab23
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d7979eb8-0941-4968-821e-05a259f80a5a
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1538a599-c368-4be2-8be7-ebb43257cc30
                stepCounter: aa0eb890-0a89-46c7-9c00-a9cea85249b5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 099b02a6-c197-42ca-9fdd-84652a744484
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6e3f4182-4cc9-4d2d-b770-2235f9b9183c
                stepCounter: aa0eb890-0a89-46c7-9c00-a9cea85249b5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5760a35a-3beb-4839-8c20-ab081460826a
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2eb37b3e-6c2e-47a3-a529-f9ec57415e85
                stepCounter: aa0eb890-0a89-46c7-9c00-a9cea85249b5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e8144e5d-2081-4272-8686-fc907962ee23
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 54d41728-c7a7-409a-92d1-09a95e611950
                stepCounter: aa0eb890-0a89-46c7-9c00-a9cea85249b5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 893cc4d7-3c07-4a4c-a3d0-62d22bfba69f
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b64f1c5c-7d31-4c2b-8298-2b31a59fe456
                stepCounter: aa0eb890-0a89-46c7-9c00-a9cea85249b5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3196301b-a4fb-4da5-af8c-10a61cbffdda
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f707ada2-5b7a-49fc-9a3f-24525e825265
                stepCounter: aa0eb890-0a89-46c7-9c00-a9cea85249b5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: aa1bd447-79b5-45fc-8e56-a751e6c98a73
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f707ada2-5b7a-49fc-9a3f-24525e825265
                stepCounter: aa0eb890-0a89-46c7-9c00-a9cea85249b5
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 05c9ff44-1403-4feb-8755-7f6a59b11bcf
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashColumns: []
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 774b9588-c7b1-4ceb-a7bb-19ed56b823ed
                stepCounter: aa0eb890-0a89-46c7-9c00-a9cea85249b5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 60e55aa8-4da9-493e-85fa-090235575768
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bde0605b-4093-46b7-9bd6-302120377edd
                stepCounter: 17042f91-5820-4db2-bb09-884a32fb8cc7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 897a34b5-f62b-4b49-b7bf-8e84e48ed911
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 23ee1051-1fbb-417c-b875-93319051de3e
                stepCounter: 17042f91-5820-4db2-bb09-884a32fb8cc7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3c807827-ad0a-4b15-939e-903e75c39c13
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6c7b7ffe-abbc-42ea-b699-e3036e74ba55
                stepCounter: 721adb99-8646-42f4-a50a-31f5210b17af
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b141671f-9b10-4d4c-bed0-0cd2040e70d3
          stepCounter: da39cda4-5556-40d0-af8d-86d6e69eab23
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 12b35346-1bba-4ba9-ab4e-c488dd13388e
                stepCounter: 721adb99-8646-42f4-a50a-31f5210b17af
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: aa0eb890-0a89-46c7-9c00-a9cea85249b5
          NATION: 17042f91-5820-4db2-bb09-884a32fb8cc7
          REGION: 721adb99-8646-42f4-a50a-31f5210b17af
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE-1
            nodeName: CUSTOMER
          - locationName: SOURCE-1
            nodeName: NATION
          - locationName: SOURCE-1
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
type: Node
