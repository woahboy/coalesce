fileVersion: 1
id: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d32d1815-4aee-46f7-be87-d0f4cd639229
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1bfa30af-5d5b-4241-a4dd-18cf4e5fb2c7
                stepCounter: e9504abd-43c8-44b5-8885-9ce875c18d8a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0a1f8573-69d8-4f96-971b-bef5cf2bd9a6
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bd948154-9724-4256-b313-2f432345ccab
                stepCounter: e9504abd-43c8-44b5-8885-9ce875c18d8a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0496c8a6-0871-413d-8509-e699cd382989
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8a5d6e22-a86d-4e5a-83c5-8b3369656617
                stepCounter: e9504abd-43c8-44b5-8885-9ce875c18d8a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0d3eaf78-47fb-4d45-962f-b2038cf32585
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 70f988df-5af2-4f03-9e47-a523621ddc38
                stepCounter: e9504abd-43c8-44b5-8885-9ce875c18d8a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 698da94d-0376-4536-9b81-dcc88c90ffbf
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5c2aab73-5799-4df2-8669-a4f8129f671e
                stepCounter: e9504abd-43c8-44b5-8885-9ce875c18d8a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5ccc0e90-1d34-494c-8b18-0ccc1706287e
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fa624470-5977-44bf-ba5a-db1763e88b46
                stepCounter: e9504abd-43c8-44b5-8885-9ce875c18d8a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2188ab30-e6f8-41ba-9341-00ed50419c01
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fa624470-5977-44bf-ba5a-db1763e88b46
                stepCounter: e9504abd-43c8-44b5-8885-9ce875c18d8a
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b537eab-d828-478f-bff5-89c8440cbf82
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0359fa47-9dee-4ce3-b531-a2edc9811178
                stepCounter: e9504abd-43c8-44b5-8885-9ce875c18d8a
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1e171ac9-e0de-4971-9ed1-3d99030a19ea
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e831bf9e-70a7-46ac-98be-e13e7cc30bac
                stepCounter: 315b0e6e-7fa1-4137-b607-e2b26f4c35c0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2ee9953b-500f-4252-84a8-ed784fa707b0
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ccf47d56-abbc-4566-a5d3-7fc3a46ba1be
                stepCounter: 315b0e6e-7fa1-4137-b607-e2b26f4c35c0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 98ece3c2-e6f1-4c19-bc9d-a07162206633
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ba81c119-3598-440c-9ad4-81596c9a6a9d
                stepCounter: c460d704-3299-4b3f-8496-ff8aa69cec5f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dc5617e4-42fa-4839-80f9-7bb17f52ddcd
          stepCounter: 78ff2cf5-cf19-4484-84f3-28e388fc2c14
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f5f94da2-581e-4f56-a06c-6366030458e6
                stepCounter: c460d704-3299-4b3f-8496-ff8aa69cec5f
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: e9504abd-43c8-44b5-8885-9ce875c18d8a
          NATION: 315b0e6e-7fa1-4137-b607-e2b26f4c35c0
          REGION: c460d704-3299-4b3f-8496-ff8aa69cec5f
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
