fileVersion: 1
id: 07468b06-4f7f-4320-ba27-908d132937ba
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8b9bfd4b-5f8e-457b-b873-df27bb4dd3f1
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4494dd6b-362b-4ab9-a188-64cda89610cf
                stepCounter: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0e658550-359e-457d-b076-b6420178bc68
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 789b6f12-1a0a-44cb-99d3-6fb912e282d1
                stepCounter: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bb79aa62-6f33-4a61-a156-98931ad24635
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 46a34d3b-533b-42cd-a9df-65cbbcfccf29
                stepCounter: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5ab8184c-f702-4677-a8f7-2963a915a978
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ed8c8fb7-05c7-4de6-9ee3-55d7df81e7ac
                stepCounter: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f035c71b-8500-4fc8-9839-142cc14fc97c
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9798c964-0c86-4b8f-8cd3-09780bb5e2fd
                stepCounter: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 94271e46-4b67-4fe3-a2a7-37e006e25b31
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9d8f1580-dab0-448a-ae98-66d9d73da512
                stepCounter: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 482ac5dc-3823-4794-a762-d1a531c32c55
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9d8f1580-dab0-448a-ae98-66d9d73da512
                stepCounter: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 38bdb899-2439-4933-9de6-3587c16be6b1
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c9f42f28-4b0c-4aaa-88f2-eb28bf81a615
                stepCounter: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3b259ef7-2ef2-42dd-b448-502fdf7dd990
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d9100d1e-dd71-4630-8966-73d39d5da135
                stepCounter: e01029fc-8bb6-4e38-9f32-252b7a916d0b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6991532a-a08a-436b-a7c2-7f97adcc0170
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9c6da8a9-658f-400f-badc-5ab58e469473
                stepCounter: e01029fc-8bb6-4e38-9f32-252b7a916d0b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1ba54b9f-51da-4457-b1aa-2888fd800ffe
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 175c11df-981d-48eb-97ac-089e0dbb48c6
                stepCounter: de0f8188-efbb-42e0-9095-cfd4084b5b4c
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e208b39d-57da-4133-bc21-2be5fe9ee2aa
          stepCounter: 07468b06-4f7f-4320-ba27-908d132937ba
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1dddcfb7-d1d8-4709-b05b-f0f1a1707f05
                stepCounter: de0f8188-efbb-42e0-9095-cfd4084b5b4c
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: d9bcdb4a-cfad-4db5-bf0b-393856fc9cce
          NATION: e01029fc-8bb6-4e38-9f32-252b7a916d0b
          REGION: de0f8188-efbb-42e0-9095-cfd4084b5b4c
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
