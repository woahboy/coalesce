fileVersion: 1
id: 21511a61-537c-4853-b87e-09c813752c7b
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e725bdf5-2c0b-47cd-abc9-0f647573d1f4
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b8c9d508-2d95-4aec-b123-a9e26a828288
                stepCounter: d9e69a34-a03f-4a33-8714-e269d36828fe
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8baccd19-c041-4057-a795-be18d7ac0916
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5b50da03-f802-4563-8082-12a72e5114d0
                stepCounter: d9e69a34-a03f-4a33-8714-e269d36828fe
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cfdad192-8cd2-4ebb-8a1f-f90cdc6e7248
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d21d0559-8e15-4454-96e5-a8b0988cd73c
                stepCounter: d9e69a34-a03f-4a33-8714-e269d36828fe
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ec0eadaf-b3f5-4cee-aa5a-ae3459a2cc0d
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: deb4f512-b41d-447a-ad6a-3a1b3944c24f
                stepCounter: d9e69a34-a03f-4a33-8714-e269d36828fe
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 09a74e0c-90f7-4664-9af2-bb479dfae71d
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 213cf2ee-495c-494f-b5dc-2e1e12bbc16a
                stepCounter: d9e69a34-a03f-4a33-8714-e269d36828fe
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8595316c-b0d0-44d7-bafd-0a42baab4950
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2c54e78e-7522-4957-9574-84a1e518fbd5
                stepCounter: d9e69a34-a03f-4a33-8714-e269d36828fe
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d55cc320-add6-44c7-97df-e68f92601806
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2c54e78e-7522-4957-9574-84a1e518fbd5
                stepCounter: d9e69a34-a03f-4a33-8714-e269d36828fe
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'HIGH' ELSE 'LOW' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a4807e1a-0519-465a-91fe-da39eeaaf80a
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6cd77592-c47b-490e-9fc4-247a7dff21ca
                stepCounter: d9e69a34-a03f-4a33-8714-e269d36828fe
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c6857470-6be1-49a5-a9f9-e506249ff9ec
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4d68abc2-e0ad-4d61-9fd8-e62f783a2227
                stepCounter: 5b9b8a12-11bc-4d8a-b8f6-757ff0e34e10
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0b32506a-409f-477d-8db9-161d2528eaa8
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 72312a87-2323-4125-aa4a-434400ceaeec
                stepCounter: 5b9b8a12-11bc-4d8a-b8f6-757ff0e34e10
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: fc0bc860-e0c1-4461-895c-bb18d6032e82
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f1f26bf1-be62-4e46-8710-b1134535aed2
                stepCounter: e6ae5f67-639c-4103-bd68-f565fa031fab
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a482e91b-2a34-4d19-b8c6-80a4f3df59f9
          stepCounter: 21511a61-537c-4853-b87e-09c813752c7b
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 718ce393-c4c6-443d-bce0-468155606c09
                stepCounter: e6ae5f67-639c-4103-bd68-f565fa031fab
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: d9e69a34-a03f-4a33-8714-e269d36828fe
          NATION: 5b9b8a12-11bc-4d8a-b8f6-757ff0e34e10
          REGION: e6ae5f67-639c-4103-bd68-f565fa031fab
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
