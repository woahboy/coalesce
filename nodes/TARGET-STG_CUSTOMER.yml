fileVersion: 1
id: b8717254-d254-433c-b0f4-0338e85d6845
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d2128441-e7ce-48b2-b65e-7e768350159d
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9c06318e-bdf8-43f8-b844-dab90b835c35
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 86c280c1-0bcf-411c-bbd2-50135cb6983a
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 61540ee9-1f67-45ea-acdc-10fcb72d2c95
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 83162ec5-8dde-489d-9303-e2a61a6ea735
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 54a7864d-2705-457e-87c9-e91d239bc8e5
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 65983110-ac85-41d8-b80e-96fd647ed313
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ccd9873b-658a-4262-bc1e-10563dff571b
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cc3e7e5d-1851-4ca5-ab54-e67d4f3c3b6c
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 369a2990-0a69-4a0f-823a-d29f98ea1170
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 408d2b00-0dc1-41b5-8bfb-a59615784824
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 59b14999-8b61-4b5c-9d8b-714a07826e4b
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1a5881f4-570e-4e53-bf45-8a2af42d96dc
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 59b14999-8b61-4b5c-9d8b-714a07826e4b
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 57798d94-a51a-4aa8-8af0-1484c3ffed7f
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 972b4fad-7187-4a22-88f8-9de870978f85
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 73dac076-ad30-493f-b873-0807c3b1349e
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 624bcf03-8ae9-4305-8e14-6a6ea7986dea
                stepCounter: feb6b52d-d2bb-41ae-98e1-bfe85123b095
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0ba2830c-a5d4-4a3b-a7d8-b88151adc64f
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2f4f099c-0cb8-4c6d-af4b-2e09f8a08141
                stepCounter: feb6b52d-d2bb-41ae-98e1-bfe85123b095
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ca871130-0b8c-4ebb-af66-6ed339108457
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 672fa85a-50a4-4a1a-ae97-f5dcb3f2dc1a
                stepCounter: 8682e3b7-cdc4-4504-8412-1ff81416fde4
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 16bd2df8-6610-4baf-b15b-047a017e3b7b
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4fc658fe-1533-4155-ade4-5dd3ecc1e2f1
                stepCounter: 8682e3b7-cdc4-4504-8412-1ff81416fde4
            transform: ""
      - acceptedValues:
          strictMatch: false
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 63a73cbd-c11d-420f-a604-25180f3d154e
          stepCounter: b8717254-d254-433c-b0f4-0338e85d6845
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_NATIONKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8365db88-4320-4917-b39a-6b89a7252d21
                stepCounter: 15eff04f-c305-4b28-a0c3-df487cda7442
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 15eff04f-c305-4b28-a0c3-df487cda7442
          NATION: feb6b52d-d2bb-41ae-98e1-bfe85123b095
          REGION: 8682e3b7-cdc4-4504-8412-1ff81416fde4
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
