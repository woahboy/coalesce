fileVersion: 1
id: 95aade66-274d-44ad-a223-dd031c892bf8
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4cd599eb-e1ed-4d3c-83a0-c28d19bb194b
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: db439eff-82be-4eb1-956d-7c3010266c4a
                stepCounter: 4e936443-317f-40ae-9f8a-2acdea9a351b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2d3d01e0-5cc8-41b6-a0a6-057c25aa9ee3
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1311a7be-1b71-49ff-9ab3-8bde72d948af
                stepCounter: 4e936443-317f-40ae-9f8a-2acdea9a351b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2c0ed1b3-2a70-4c15-88c4-d4473dfa3d51
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1cb9572d-4d6f-4340-9170-8e0d32ee7e85
                stepCounter: 4e936443-317f-40ae-9f8a-2acdea9a351b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f8e13e5a-7d48-482c-ad6b-604e6c97144c
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f47b83dd-70eb-40e1-9580-62323bf73e61
                stepCounter: 4e936443-317f-40ae-9f8a-2acdea9a351b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 35308c7e-87bb-4343-b5b9-cc943fc1ca1d
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a0c57bdb-4d11-4303-840d-3fb58ba82347
                stepCounter: 4e936443-317f-40ae-9f8a-2acdea9a351b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 917ffc99-e927-419d-b099-043191cbfc28
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fb0417e7-621a-4206-a3b0-e6fe0be9f7fe
                stepCounter: 4e936443-317f-40ae-9f8a-2acdea9a351b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d41bc380-e3f8-4c8d-95f6-368ce9fa8a1a
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fb0417e7-621a-4206-a3b0-e6fe0be9f7fe
                stepCounter: 4e936443-317f-40ae-9f8a-2acdea9a351b
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ab00e329-2a94-426c-aaac-80f6c39667b3
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d82d7569-d5f5-446e-84b9-79d13d91e7f8
                stepCounter: 4e936443-317f-40ae-9f8a-2acdea9a351b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1f06e7fe-166b-4930-a065-caf76e71d98a
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a020bdf6-94d0-4693-8ac2-96736ab84a8c
                stepCounter: 6fb040c1-dde8-4f10-bbef-35747c5cbae3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2867054c-1145-4f18-a6e9-937c03d951ea
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 794bd659-8e2a-4b3b-935c-b5facc5d2e46
                stepCounter: 6fb040c1-dde8-4f10-bbef-35747c5cbae3
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f342c669-ebe3-49bb-8eb6-7cf2043cbcce
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 35e3acd4-94a8-4d7b-bec4-b50cc739dabe
                stepCounter: 8d8fc32d-a83e-47bb-a845-ad51baa0d3c4
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dbeb8656-8edf-4e94-8782-704a9c0668d4
          stepCounter: 95aade66-274d-44ad-a223-dd031c892bf8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0e93d74c-a9e6-499c-9538-4883d1021c68
                stepCounter: 8d8fc32d-a83e-47bb-a845-ad51baa0d3c4
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 4e936443-317f-40ae-9f8a-2acdea9a351b
          NATION: 6fb040c1-dde8-4f10-bbef-35747c5cbae3
          REGION: 8d8fc32d-a83e-47bb-a845-ad51baa0d3c4
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
