fileVersion: 1
id: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e3e31afe-ecba-4e6e-8a69-74496402110c
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 193b956c-90bc-4041-b566-913bc204072b
                stepCounter: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e5134030-ca52-41af-a217-0017505de283
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 850f246c-7b53-4c1e-88c7-3e9d29dcb9da
                stepCounter: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f472cb28-6796-437d-9d3a-0ef22884b078
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c8bf82a5-774b-4681-9017-dd7593639953
                stepCounter: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 322845ad-44b1-441b-893b-e40133472cb0
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e16d9572-ebf5-493e-aa9a-14dc52d15b25
                stepCounter: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 456fc5d9-f4f7-4830-ac7b-cf46272be5ab
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2eea0743-2f2d-4a85-a6a7-eb8de13de76e
                stepCounter: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9adbf5a8-2cf2-443e-928e-ea0d29d64e9c
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4fb51fd5-19d6-4665-93cc-f628250d45e2
                stepCounter: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a29925b4-7216-440d-a1d3-3cb67f0cf711
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4fb51fd5-19d6-4665-93cc-f628250d45e2
                stepCounter: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 65513cd0-0383-420f-aa22-440de391b6c4
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 34103dbc-f9db-4da7-a5bf-9c249cb77bef
                stepCounter: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b347cd28-e6e9-4e1f-9844-27a9a517c5e4
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 18332ab5-cb5a-4536-bad7-27862f8c34e1
                stepCounter: 5086f237-a347-47f1-a13e-d151eba5f7fa
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5cd978da-a569-4c9a-ad0c-2b68252f8dc2
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eff97bc1-8c42-4a8d-94cb-ab6593624df0
                stepCounter: 5086f237-a347-47f1-a13e-d151eba5f7fa
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 398f30f2-e821-44c1-ab31-fa8810f62c95
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1c4d9a66-e4eb-46f9-81b1-5b95e678d029
                stepCounter: c74856c3-65f4-4eca-a65b-60984d5251a2
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c57a15cd-6ed2-40ed-ab83-e3ce16164a17
          stepCounter: 7edf5d15-aa62-4f92-b60c-c663e69f0af1
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5f3dccfe-602b-4a9d-8dd8-74609abf40b0
                stepCounter: c74856c3-65f4-4eca-a65b-60984d5251a2
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 6828c7dc-2850-4bb4-a683-6cb7fcd54b6f
          NATION: 5086f237-a347-47f1-a13e-d151eba5f7fa
          REGION: c74856c3-65f4-4eca-a65b-60984d5251a2
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
