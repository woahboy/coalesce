fileVersion: 1
id: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 10c3d08a-8829-46e0-ad7f-46b8618f9bf6
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 412d7e35-8345-432d-b9d0-622eddd17caa
                stepCounter: 0f626132-fb56-47a9-9436-bdcf36fd7890
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f0dfbfe2-6dda-4d53-b637-c028748f9871
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 39ac5f73-0bec-44fd-be52-6ca6eeb270e7
                stepCounter: 0f626132-fb56-47a9-9436-bdcf36fd7890
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7a9b6737-7ac6-407b-8f9e-9ca92025ee1e
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: bc42e5eb-cb32-4df0-8151-9c0a2950514b
                stepCounter: 0f626132-fb56-47a9-9436-bdcf36fd7890
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 235b686a-e9a1-46bb-bb12-77f01d674bab
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b342b31f-4716-4663-b852-a07f252e928a
                stepCounter: 0f626132-fb56-47a9-9436-bdcf36fd7890
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c967f3dd-0d1c-4bf2-b9e7-f684327ade33
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0fa42393-3e74-47ee-9fba-9bd43dc3e544
                stepCounter: 0f626132-fb56-47a9-9436-bdcf36fd7890
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6bba63ac-835e-41be-aaad-92c2a80739f4
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c54e8f62-3ce8-46af-8c86-415bb7636e74
                stepCounter: 0f626132-fb56-47a9-9436-bdcf36fd7890
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f9140d1c-b44d-4090-89b9-c31c30e7d5fc
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c54e8f62-3ce8-46af-8c86-415bb7636e74
                stepCounter: 0f626132-fb56-47a9-9436-bdcf36fd7890
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f797be19-604a-4e18-9ce6-243eb89b6df0
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 76358fe0-21cc-4107-9ccf-aec8309c1a57
                stepCounter: 0f626132-fb56-47a9-9436-bdcf36fd7890
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f33bc367-896a-4620-be3d-b0a286e3671f
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 87d266cc-1fb1-4951-a99f-7b56153b97fe
                stepCounter: 840862de-cd12-4cdc-a0ee-199db22eda61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ee5b90c6-5401-4d37-a550-9cca26d0d15e
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e133960e-2664-41b6-92fd-7bff94556ecd
                stepCounter: 840862de-cd12-4cdc-a0ee-199db22eda61
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c032dea7-21b9-4648-9875-50098d738b73
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4d6805d4-e6b3-45c6-8e6a-a866c4d3b992
                stepCounter: c2666a0b-ae24-4f83-84e6-f16a739d855b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c9e16a8d-53f1-45ec-b3d0-335814c657f6
          stepCounter: bec9a7d1-04a4-4c91-89d4-9f5a2f556409
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1f864d38-2da1-4a25-97da-5d677fbfffb9
                stepCounter: c2666a0b-ae24-4f83-84e6-f16a739d855b
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 0f626132-fb56-47a9-9436-bdcf36fd7890
          NATION: 840862de-cd12-4cdc-a0ee-199db22eda61
          REGION: c2666a0b-ae24-4f83-84e6-f16a739d855b
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
