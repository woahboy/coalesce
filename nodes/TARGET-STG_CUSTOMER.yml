steps:
  STG_CUSTOMER-6c198d97-8905-4f1d-a4fd-a486b86e91e1:
    operation:
      config:
        insertStrategy: INSERT
        postSQL: ""
        preSQL: ""
        testsEnabled: true
        truncateBefore: true
      database: ""
      deployEnabled: true
      description: Customer data as defined by TPC-H
      isMultisource: false
      locationName: TARGET
      materializationType: table
      metadata:
        appliedNodeTests:
          - continueOnFailure: true
            description: ""
            name: Test
            runOrder: After
            templateString: ""
        columns:
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: e177b048-3c07-4b63-ae40-2204d2908ad7
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: NUMBER(38,0)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_CUSTKEY
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 2de2a4fb-1326-4645-bfb5-3d4a8cd68e78
                    stepCounter: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
                transform: ""
          - appliedColumnTests:
              hasNull: true
              isDistinct: false
            columnReference:
              columnCounter: 17bddce7-e9cf-49f6-98dc-9da84ba44c49
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(25)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 5331f27b-bfdd-4346-a381-30e76d759053
                    stepCounter: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: true
            columnReference:
              columnCounter: f4b45e7c-0c0d-4ac5-a903-386f10ffd4d3
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(40)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_ADDRESS
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: e5378b7f-c4d3-405f-8282-ec0f1ee5c484
                    stepCounter: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: 6408d5a2-8721-4744-af87-8bba777feea9
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(15)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_PHONE
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 62da80b1-2da7-4781-bbd0-91d282131b2b
                    stepCounter: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: 17b9f729-e7c4-49b4-88b6-1bb6c5df0cf7
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: NUMBER(12,2)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_ACCTBAL
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: bca1bdd5-bdc7-4305-972f-23d84340d7fe
                    stepCounter: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: 40161c7c-05eb-44f8-bfe2-a5d0c466efb1
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(10)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_MKTSEGMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: a97b2e8a-5bc3-4b92-977b-dea47b1389f6
                    stepCounter: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: dcf1611e-99c2-4c54-8ece-68d3306c4dc7
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(10)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_VALUE
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: a97b2e8a-5bc3-4b92-977b-dea47b1389f6
                    stepCounter: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
                transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: cf9a704d-4b75-400d-aab6-3520d94a620a
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(117)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 45f96c6a-afae-4337-9844-4e8d038b04df
                    stepCounter: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: dc395acf-acc0-415e-9415-e0965ed06e9c
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(25)
            description: ""
            name: N_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 19c42a13-6109-44f0-ad9d-b1857121c626
                    stepCounter: 4be05975-4273-40ff-8d59-74504bae2208
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: 301de238-b8c8-4463-802b-f4c928e6e92c
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(152)
            description: ""
            name: N_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: c2539693-e9f5-4864-a8fb-7af18a72f999
                    stepCounter: 4be05975-4273-40ff-8d59-74504bae2208
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: 0101a912-2232-4036-ac55-b270bdfd12a6
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(25)
            description: ""
            name: R_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: b5220c90-2136-4bdb-b7d9-8cad1aaa2c2f
                    stepCounter: 44667617-986a-4e10-a657-6a7e49f86a40
                transform: ""
          - appliedColumnTests:
              hasNull: false
              isDistinct: false
            columnReference:
              columnCounter: 114c6b1b-d8bd-497b-b3f6-b30e9e31f3d1
              stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
            dataType: VARCHAR(152)
            description: ""
            name: R_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 03e0ca54-f18f-4062-a9ca-d2611e91797f
                    stepCounter: 44667617-986a-4e10-a657-6a7e49f86a40
                transform: ""
        cteString: ""
        enabledColumnTestIDs:
          - hasNull
          - isDistinct
        sourceMapping:
          - aliases:
              CUSTOMER: 3d5d3d34-9187-4a95-a439-b16e9bcef0a3
              NATION: 4be05975-4273-40ff-8d59-74504bae2208
              REGION: 44667617-986a-4e10-a657-6a7e49f86a40
            customSQL:
              customSQL: ""
            dependencies:
              - locationName: SOURCE-1
                nodeName: CUSTOMER
              - locationName: SOURCE-1
                nodeName: NATION
              - locationName: SOURCE-1
                nodeName: REGION
            join:
              joinCondition: |-
                FROM {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
                INNER JOIN {{ ref('SOURCE-1', 'NATION') }} "NATION"
                ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
                INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
                ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
            name: STG_CUSTOMER
            noLinkRefs: []
      name: STG_CUSTOMER
      overrideSQL: false
      schema: ""
      sqlType: Stage
      type: sql
    stepCounter: 6c198d97-8905-4f1d-a4fd-a486b86e91e1
