fileVersion: 1
id: ff0b069b-71b7-477a-b131-b696cafaa3d8
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b9d05d7a-0ee4-4bbd-957d-548854697b70
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 540dcde3-465f-444a-93a9-0f53e779aaed
                stepCounter: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 10a24d42-582d-4529-a436-6c8a8bb46f26
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c383434a-5d15-4fa9-a464-85302ebf11de
                stepCounter: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 78758308-5d43-4d9f-a5ff-166c91902522
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d063499f-f87b-4573-b89f-e26f4d2bb664
                stepCounter: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e534f2a1-06c6-4824-a62b-ec11e0b0f122
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 694e43bf-4b41-48d9-a8eb-de32024e87bf
                stepCounter: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 780a76b6-5880-4888-8413-c43f300fae8e
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f38c52ce-e3ae-4d2c-b00c-bfd186ad02d1
                stepCounter: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1f932970-6234-4201-9a3e-534f0b18ff90
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57871c51-740c-46d5-8bd4-5d39f2176643
                stepCounter: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 336d01af-0549-42d6-8e26-0beecb956293
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57871c51-740c-46d5-8bd4-5d39f2176643
                stepCounter: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'high' ELSE 'low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 86206636-96ad-4036-bc60-9e9e07abeefa
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ade67d99-37db-488f-8503-cddc994376ec
                stepCounter: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7956c66a-1bfb-4fc7-8c67-924e29dd3ca1
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5bcc58e1-90c9-438c-94a6-9846b495ee64
                stepCounter: dcb64510-b8b4-49bf-8d68-ef8ace5c92cc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7823373a-2553-4332-a6bd-3c36721d60c7
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2f9b6e5d-262f-4c2e-b66a-e2decf7a3b14
                stepCounter: dcb64510-b8b4-49bf-8d68-ef8ace5c92cc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 783ffa35-d30b-4618-b586-38a5241ac174
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 71154cbc-3cd7-4bb8-9245-3ff4a7154f08
                stepCounter: 25cf9925-fcb8-479a-b3e5-9142b971b1bc
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4606b425-8c38-4fb7-bcc5-0738f57ed3c8
          stepCounter: ff0b069b-71b7-477a-b131-b696cafaa3d8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86635896-11fc-4f97-9315-3c7fbad6e548
                stepCounter: 25cf9925-fcb8-479a-b3e5-9142b971b1bc
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 95b130a7-ba6e-44b3-bad3-0fcc01f4b259
          NATION: dcb64510-b8b4-49bf-8d68-ef8ace5c92cc
          REGION: 25cf9925-fcb8-479a-b3e5-9142b971b1bc
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
