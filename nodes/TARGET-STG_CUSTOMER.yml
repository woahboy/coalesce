steps:
  STG_CUSTOMER-2620c0de-7fa4-4e54-8a4f-df4eada93dd7:
    operation:
      config:
        insertStrategy: INSERT
        postSQL: ""
        preSQL: ""
        testsEnabled: true
        truncateBefore: true
      database: ""
      deployEnabled: true
      description: Customer data as defined by TPC-H
      isDataVault: false
      isMultisource: false
      locationName: TARGET
      materializationType: table
      metadata:
        appliedNodeTests: []
        columns:
          - columnReference:
              columnCounter: 14be7ddb-6202-4b98-b6bd-8b4ec77ff894
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: NUMBER(38,0)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_CUSTKEY
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: c70efce3-ba74-4df2-bcb0-736a69dd802a
                    stepCounter: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
                transform: ""
          - columnReference:
              columnCounter: 0883d983-94f6-4c4c-9f78-95c23919b8bc
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(25)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 37e4828f-a8e4-48a8-9376-38fe6703d227
                    stepCounter: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
                transform: ""
          - columnReference:
              columnCounter: 3782de5d-fc19-4c6c-9081-76233f9fc0b2
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(40)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_ADDRESS
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: e210d62f-d30b-49c0-b483-0f372e021b74
                    stepCounter: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
                transform: ""
          - columnReference:
              columnCounter: 063720f7-4fa7-49f6-bf00-b2b8e2bd52f9
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(15)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_PHONE
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 3dd6b321-4c89-468b-8362-85ec3b2f9742
                    stepCounter: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
                transform: ""
          - columnReference:
              columnCounter: fd078f0d-6d8c-4335-bd9f-c042999dc851
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: NUMBER(12,2)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_ACCTBAL
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 415a086f-7a0f-45f8-b0bd-ad4c17e455ad
                    stepCounter: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
                transform: ""
          - columnReference:
              columnCounter: 417ce7b4-11e0-49d3-b081-6f10b09e3d2f
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(10)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_MKTSEGMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 5351b9e5-3118-42a4-88d8-4580e987fa5a
                    stepCounter: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
                transform: ""
          - columnReference:
              columnCounter: b5324584-c4f9-4dab-a421-5f5ca0e9a030
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(10)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_VALUE
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 5351b9e5-3118-42a4-88d8-4580e987fa5a
                    stepCounter: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
                transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'HIGH' ELSE 'LOW' END
          - columnReference:
              columnCounter: 33cbae7a-b803-4c13-9c6f-d3420007fc24
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(117)
            description: ""
            hashColumns: []
            hashDetails: null
            name: C_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: f213893e-7b1b-4713-ac0d-2759b5cff767
                    stepCounter: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
                transform: ""
          - columnReference:
              columnCounter: 1f50458c-728a-4010-96e7-e54e86a3c65b
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(25)
            description: ""
            name: N_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 9d0d1858-be88-4d72-a675-343e559fa9a3
                    stepCounter: ff099831-e539-4d83-b740-332d9e84be1c
                transform: ""
          - columnReference:
              columnCounter: 0b891d12-79ce-43e3-a489-99b979b72d7d
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(152)
            description: ""
            name: N_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: dd05ffc1-2560-470d-89e1-02e6c764ba3b
                    stepCounter: ff099831-e539-4d83-b740-332d9e84be1c
                transform: ""
          - columnReference:
              columnCounter: 7e802fef-3c70-422b-b04b-61d72be06d73
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(25)
            description: ""
            name: R_NAME
            nullable: false
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 4268a908-323b-442f-ac98-0f8ec8011f87
                    stepCounter: e55c6611-30ca-454d-b6a6-5c9ab98a7737
                transform: ""
          - columnReference:
              columnCounter: 953e61a9-a680-4cb8-b00b-08c5bdd78931
              stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
            dataType: VARCHAR(152)
            description: ""
            name: R_COMMENT
            nullable: true
            sourceColumnReferences:
              - columnReferences:
                  - columnCounter: 68d3b912-1ab3-4856-9ec0-a67c9df4595e
                    stepCounter: e55c6611-30ca-454d-b6a6-5c9ab98a7737
                transform: ""
        cteString: ""
        enabledColumnTestIDs: []
        sourceMapping:
          - aliases:
              CUSTOMER: 3c1aeb4c-f3d3-4436-8bb9-fbd022483f7c
              NATION: ff099831-e539-4d83-b740-332d9e84be1c
              REGION: e55c6611-30ca-454d-b6a6-5c9ab98a7737
            customSQL:
              customSQL: ""
            dependencies:
              - locationName: SOURCE-1
                nodeName: CUSTOMER
              - locationName: SOURCE-1
                nodeName: NATION
              - locationName: SOURCE-1
                nodeName: REGION
            join:
              joinCondition: |-
                FROM {{ ref('SOURCE-1', 'NATION') }} "NATION" 
                INNER JOIN {{ ref('SOURCE-1', 'CUSTOMER') }} "CUSTOMER"
                ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
                INNER JOIN {{ ref('SOURCE-1', 'REGION') }} "REGION"
                ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
            name: STG_CUSTOMER
            noLinkRefs: []
      name: STG_CUSTOMER
      overrideSQL: false
      schema: ""
      sqlType: Stage
      type: sql
    stepCounter: 2620c0de-7fa4-4e54-8a4f-df4eada93dd7
