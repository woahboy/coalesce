fileVersion: 1
id: ef02d833-997e-47dd-a347-1c4a55694b14
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ec97f92e-ed5c-472d-84ff-c04a916a6ba3
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2a0e19a1-07f5-4595-8f24-64f2f78e0589
                stepCounter: ad6064a7-fb99-4cbb-8d8a-79367b149762
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e9cf142c-f896-46ec-8f0a-ef9e970310d2
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5b3cf043-a54f-4507-80fe-bfa4a2c5c76c
                stepCounter: ad6064a7-fb99-4cbb-8d8a-79367b149762
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8852d8cd-a98e-43fa-929b-9da3169774a5
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d322ffa6-64f7-4eae-a602-9d1bd35c5f81
                stepCounter: ad6064a7-fb99-4cbb-8d8a-79367b149762
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 823b7e13-6638-465a-9c64-a147f0763b8e
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 00880200-13c2-41d6-bac3-3c4ec1d04452
                stepCounter: ad6064a7-fb99-4cbb-8d8a-79367b149762
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1b1ae654-fd29-48ab-a472-fd2c827f0b7b
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6d09fb88-b977-410b-9828-6b236f76a665
                stepCounter: ad6064a7-fb99-4cbb-8d8a-79367b149762
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6413a140-9abc-4880-a27b-d95eae4727ea
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3ed0cbc5-502c-4eab-992c-e71e3def3aaa
                stepCounter: ad6064a7-fb99-4cbb-8d8a-79367b149762
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bee0ed73-3c2e-4160-b080-c175babcbbec
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3ed0cbc5-502c-4eab-992c-e71e3def3aaa
                stepCounter: ad6064a7-fb99-4cbb-8d8a-79367b149762
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: addae81e-8d16-4846-a938-ed96f92a77ac
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 57ebb557-378e-42cb-a3b5-6cb72a212550
                stepCounter: ad6064a7-fb99-4cbb-8d8a-79367b149762
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3e492f71-85b7-4942-9734-e7ddaa4fcf0f
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 828638b9-5ca9-4f66-8792-49bfddfdff50
                stepCounter: 989a5126-826d-41a2-9650-1945ccecb8db
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ffc13d88-be8f-4b06-993c-1d30f7018be1
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5fb3b815-b330-4f3b-96a1-b2a689f41ec1
                stepCounter: 989a5126-826d-41a2-9650-1945ccecb8db
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ea65421b-2695-4152-a9e9-2775e7b35805
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b0e69e5e-9057-4fbf-8c9b-42d3c18e1b22
                stepCounter: 2853b260-d3f0-4d6a-b0a4-6c8ac2fee87b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6b1e255f-01f3-4c71-96c8-24b72b42c250
          stepCounter: ef02d833-997e-47dd-a347-1c4a55694b14
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 35085b56-6918-4feb-b606-453c3aff19ea
                stepCounter: 2853b260-d3f0-4d6a-b0a4-6c8ac2fee87b
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: ad6064a7-fb99-4cbb-8d8a-79367b149762
          NATION: 989a5126-826d-41a2-9650-1945ccecb8db
          REGION: 2853b260-d3f0-4d6a-b0a4-6c8ac2fee87b
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
