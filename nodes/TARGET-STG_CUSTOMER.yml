fileVersion: 1
id: ea837113-c8ec-4e4b-9f5c-6d2778362be8
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 62edcb4a-0ee3-4917-b7e4-b832ee56923d
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c3c0f3c2-e2ce-47cd-aaee-178e7d8eeecc
                stepCounter: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2281ec3e-2f11-48e8-b7c3-959e0e92a751
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1fb29e5b-6734-4588-9256-9c81b474f32d
                stepCounter: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d32169d9-ffd7-459f-a28a-5ece432cd329
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a587aad5-fb5b-45ad-aad7-a152877b9636
                stepCounter: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7ea9320e-7da3-440f-86aa-722792b33f67
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66770bc1-389b-40eb-919e-08669c7303b8
                stepCounter: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0fc51db9-9f66-4f51-801a-d403ad2792ed
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d60fe82e-37a8-4485-b6f2-5bad7bb383b8
                stepCounter: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e09c3b69-f90c-4b82-94c0-f4381846ad4c
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d281937d-2387-4e41-8ed4-bfec37bd8bd8
                stepCounter: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 298cc934-f2f2-450f-a14c-df090d11e28f
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d281937d-2387-4e41-8ed4-bfec37bd8bd8
                stepCounter: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 100a2f69-5db8-4804-a2cc-dff6440c599e
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7bf55adf-1452-439f-9792-35e3ff8b7dca
                stepCounter: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f9fc7763-1936-41e0-98f9-582e3c78c034
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b1cd349a-0cdb-419c-ae7f-4cad66ceef91
                stepCounter: 33dcfcc7-44a7-4fbb-8876-a70c4da2df9b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 85d0c442-603b-4094-b964-de0cb96bd21c
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6bdb0500-3a3e-498c-b256-837aa43c40bc
                stepCounter: 33dcfcc7-44a7-4fbb-8876-a70c4da2df9b
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2dbef662-f1da-4c3d-bee8-7b605ebd5e73
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 62842488-e793-4cd6-8406-6b8101808f84
                stepCounter: 1a83d810-5a7c-47ac-9d41-aa464480c7f0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3dd54320-6166-43b7-8613-cde9c66411e6
          stepCounter: ea837113-c8ec-4e4b-9f5c-6d2778362be8
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 365f6ba4-1818-477c-ad44-6d039dffd84a
                stepCounter: 1a83d810-5a7c-47ac-9d41-aa464480c7f0
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 75f35032-9a0a-40b1-94e5-fb1f6ffed4f9
          NATION: 33dcfcc7-44a7-4fbb-8876-a70c4da2df9b
          REGION: 1a83d810-5a7c-47ac-9d41-aa464480c7f0
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
