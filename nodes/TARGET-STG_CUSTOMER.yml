fileVersion: 1
id: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8a815dcf-399a-4fdb-86d2-c6baf313dcfa
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e7888adc-1da6-462a-9188-909173461b83
                stepCounter: 987b835d-69cc-420b-9ac1-08a864b04bea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1687e4a7-6a38-4664-a198-7c527275ed26
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dbfc9ce8-534a-42d4-9113-0d230f81281e
                stepCounter: 987b835d-69cc-420b-9ac1-08a864b04bea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6978fa8f-522d-44a3-9733-297cfbb98abc
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b6571c36-f6b2-41cc-8e89-84b48af125be
                stepCounter: 987b835d-69cc-420b-9ac1-08a864b04bea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cbbdd732-86ea-42bc-929d-561200387ef4
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: CUSTOMER_PHONE_NUMBER
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 230957e8-1c30-485b-b3bd-fe2faa7722f3
                stepCounter: 987b835d-69cc-420b-9ac1-08a864b04bea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bb4a474f-d262-431b-911f-4e4252edd486
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a470838d-4315-4f02-8a92-e31b3c1edbac
                stepCounter: 987b835d-69cc-420b-9ac1-08a864b04bea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c6a3a3aa-32e0-48c8-a1d9-f7ab40b4d6f4
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e913b45c-45af-4d1e-9a95-4ae559addd97
                stepCounter: 987b835d-69cc-420b-9ac1-08a864b04bea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 37e0aa0a-c2fd-4fc3-9820-88d3d15cd9e9
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e913b45c-45af-4d1e-9a95-4ae559addd97
                stepCounter: 987b835d-69cc-420b-9ac1-08a864b04bea
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6f3950eb-82ab-4365-8bf4-b71ca2fb6b49
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fe510023-876a-497f-ad02-6ee683a0bf6f
                stepCounter: 987b835d-69cc-420b-9ac1-08a864b04bea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a6b37d3b-fc2d-40d8-91cc-207b0cb038d0
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 637f2fb1-8725-4c8b-ae6c-924e16831e70
                stepCounter: 558dcb2e-0072-4e1c-ae5e-b1ac9b22df14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6ec0a0c7-f8d1-4d50-a5d1-e97716a2ddf7
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 78658678-5f3b-4087-bfeb-92d041f0bfe7
                stepCounter: 558dcb2e-0072-4e1c-ae5e-b1ac9b22df14
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 709ab400-8f68-4513-91d1-26a5ca01e862
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d1aecc43-b0f6-497d-a6d9-11250cb67357
                stepCounter: 1caea18f-16cb-48e9-88f4-78ba06c0e260
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7363fc72-72ee-420d-8d42-db8580c59dc4
          stepCounter: b88ad3ec-91c7-41ec-b95b-5e68e0d3efb9
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a918107c-be33-4d96-83cd-e35043a17fd6
                stepCounter: 1caea18f-16cb-48e9-88f4-78ba06c0e260
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: 987b835d-69cc-420b-9ac1-08a864b04bea
          NATION: 558dcb2e-0072-4e1c-ae5e-b1ac9b22df14
          REGION: 1caea18f-16cb-48e9-88f4-78ba06c0e260
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
