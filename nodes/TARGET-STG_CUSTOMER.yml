fileVersion: 1
id: 975d0fa6-17ec-416c-aede-0c719417fced
name: STG_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    selectDistinct: true
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d702a049-985e-41ef-8aee-4fa5bfab9843
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 26bd7608-bafc-4015-8517-b36f143ec20f
                stepCounter: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6bc5fe29-165b-4f92-8f29-8470264fcf9c
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 94e17710-1c45-4133-a2ae-3ce61469ac44
                stepCounter: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e7f1ea79-bbfc-42ea-b011-559d6507446b
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(40)
        description: ""
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dfb420ec-99fd-4dca-9809-70b2bfa46a39
                stepCounter: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: adb61dc8-e54d-4965-a94c-935b4c232cdf
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(15)
        description: ""
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b732416d-8be4-415c-b2eb-0b28ef65c773
                stepCounter: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9618f68a-fde8-41c5-8d76-d54f6b07240e
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b1d34c89-a97f-4317-9b57-e782e74ab270
                stepCounter: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb4fff89-4a14-4278-8c77-d3618cc448f9
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b96d07ac-c367-454f-a1da-938aef81531e
                stepCounter: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bf0e1b92-96a5-4257-836a-c07b3d313e54
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(10)
        description: ""
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b96d07ac-c367-454f-a1da-938aef81531e
                stepCounter: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
            transform: CASE WHEN "CUSTOMER"."C_ACCTBAL" > 5000 AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High' ELSE 'Low' END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c226c91c-4e73-4e40-8726-15c979c0cac8
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(117)
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 53ab67c2-67b0-4a3c-a581-7e5fd7cba483
                stepCounter: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e6bde892-59c7-4d2e-b102-8e01c9f4274e
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8465feb7-9c41-4bd9-91c3-1e8545685754
                stepCounter: b28789d5-bf4d-493a-b6d9-419be3af34e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e2d51d6c-047a-4845-a5c7-e5a150e6e776
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 1c421ee9-cc15-46c1-a8b9-ef4dabe49da4
                stepCounter: b28789d5-bf4d-493a-b6d9-419be3af34e0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 77669a9e-0ca1-4922-a60b-40939fc32e5e
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(25)
        description: ""
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0736fc5d-583a-49a5-bbcf-952d120d364f
                stepCounter: 79108446-c76a-403b-9579-695536425465
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f3b7f9be-1306-41c1-9dbd-e163aec125fc
          stepCounter: 975d0fa6-17ec-416c-aede-0c719417fced
        config: {}
        dataType: VARCHAR(152)
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e0203044-3d3b-4f5d-ac92-b54c97de5231
                stepCounter: 79108446-c76a-403b-9579-695536425465
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          CUSTOMER: d26f6ab3-f05f-416a-ad8a-aa6e405344f5
          NATION: b28789d5-bf4d-493a-b6d9-419be3af34e0
          REGION: 79108446-c76a-403b-9579-695536425465
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE_TPCH
            nodeName: CUSTOMER
          - locationName: SOURCE_TPCH
            nodeName: NATION
          - locationName: SOURCE_TPCH
            nodeName: REGION
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
            INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION"
            ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
            INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION"
            ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
        name: STG_CUSTOMER
        noLinkRefs: []
  name: STG_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: "517"
  type: sql
  version: 1
type: Node
