fileVersion: 1
id: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
name: DIM_CUSTOMER
operation:
  config:
    historyTable: true
    postSQL: ""
    preSQL: ""
    tableTag: null
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: Creates the DIM_CUSTOMER dimension table and merges data from the STG_CUSTOMER staging table into it.
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: b8cb4a59-7872-49f9-998a-062cac6185e1
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: |-
          - This column is a system-generated surrogate key for the customer dimension table.
          - It uniquely identifies each customer record within the data warehouse.
          - Since it is system-generated, it does not have a source column.
          - It serves as the primary key for the dimension and is used for joining with fact tables.
          - Useful for performance optimization and simplifying relationships between tables in the data model.
          - This key is essential for tracking customer-related metrics and analysis, such as sales performance by customer.
        isSurrogateKey: true
        name: DIM_CUSTOMER_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5e11c9aa-1f56-4015-8588-cbb65fe61312
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: NUMBER(38,0)
        description: |-
          - This column represents the customer's key identifier, originating from the 'C_CUSTKEY' column in the 'STG_CUSTOMER' stage table.
          - It serves as a business key, uniquely identifying each customer.
          - The data type is NUMBER(38,0).
          - This key is crucial for linking customer information across different systems and for identifying individual customers in reports and analyses.
        isBusinessKey: true
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fd2f3bdd-4eb8-4951-af5d-fbd939404453
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f7e8a4f3-3a1d-4298-aa8a-434d700d9fc3
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(25)
        description: |-
          - This column contains the name of the customer.
          - It is sourced directly from the 'C_NAME' column in the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(25).
          - It is used for customer identification and is enabled for change tracking to monitor alterations to customer names over time.
          - This attribute is valuable for personalized marketing campaigns and customer service initiatives.
        isChangeTracking: true
        name: C_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd7f74bf-7b6c-4089-9e72-eb75b6375f72
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 023487ee-24f9-466a-8797-d11988b43bca
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(40)
        description: |-
          - This column contains the address of the customer.
          - The source is the 'C_ADDRESS' column from the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(40).
          - It's used for customer location analysis and shipping purposes.
          - Change tracking is enabled for this column to monitor changes in customer addresses, which is useful for maintaining accurate records and identifying potential fraud.
        isChangeTracking: true
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2b746840-e980-4585-8480-63898e0a5d8a
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: cb8a76c0-9795-48fe-ad9e-fa1faf3a26db
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(15)
        description: |-
          - This column stores the phone number of the customer.
          - It is directly sourced from the 'C_PHONE' column in the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(15).
          - It is used for contacting customers and is essential for customer service and marketing communications.
          - This field helps in tracking customer interactions and preferences.
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3aa88a4e-e7a9-499f-9b4b-57c426e6f616
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5d27f48c-c249-4c30-8bc7-718b5622569e
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: NUMBER(12,2)
        description: |-
          - This column represents the account balance of the customer.
          - It originates from the 'C_ACCTBAL' column in the 'STG_CUSTOMER' stage table.
          - The data type is NUMBER(12,2).
          - It is used for financial analysis and reporting, providing insights into customer spending and financial health.
          - This metric is a key performance indicator (KPI) for assessing customer value and profitability.
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 28a7d854-fdd3-48a0-a4d9-017cb15ac96e
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2a224924-2ac6-4106-a0d3-08c9b2ce057a
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(10)
        description: |-
          - This column indicates the market segment to which the customer belongs.
          - It is sourced from the 'C_MKTSEGMENT' column in the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(10).
          - It is used for segmenting customers for targeted marketing campaigns and analyzing customer behavior within different market segments.
          - Analysis using this column can drive strategic business decisions related to product development and market penetration.
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6e3e5fe7-2f45-4a8c-af35-bcd756976e43
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 22142e9f-c9b2-40e6-a534-fc2eed5e410d
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(117)
        description: |-
          - This column contains descriptive comments about the customer.
          - It is sourced from the 'C_COMMENT' column in the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(117).
          - It can be used for capturing additional information about customers that is not covered by other fields, such as specific needs or preferences.
          - The comments can be used for improving customer service and personalizing interactions.
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 93c18642-8625-41c5-8d0e-ebb451e9ef8a
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 12d6e7c2-c318-4f29-81e6-47c6b31034f6
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(25)
        description: |-
          - This column represents a name associated with the customer.
          - It is sourced from the 'N_NAME' column in the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(25).
          - The purpose of this column depends on the context of the data, but it could be a region or nation name related to the customer.
          - Used for geographical or regional analysis of customer data.
        name: N_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 82068b7d-9db2-42cf-88a1-eb64e3827c69
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2d741e59-7040-439f-b388-e913cf9898e6
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(152)
        description: |-
          - This column contains comments associated with the 'N_NAME'.
          - It is sourced from the 'N_COMMENT' column in the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(152).
          - Providing additional context or details about the name, such as regional characteristics or specific attributes.
          - Useful for providing detailed regional or national context in customer-related reports.
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 868cd3f4-eb5c-4897-a354-032e45711b60
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0d0109b4-0719-4c23-80e8-07d0baf27334
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(25)
        description: |-
          - This column represents another name associated with the customer.
          - It is sourced from the 'R_NAME' column in the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(25).
          - The purpose of this column depends on the context of the data, it could be a region name related to the customer.
          - Used for geographical or regional analysis of customer data.
        name: R_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 9d5f33b9-1370-4839-a4b1-4bf6f5516daa
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0e59f9c8-5208-4f9f-852f-71e9f1e225f8
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR(152)
        description: |-
          - This column contains comments associated with the 'R_NAME'.
          - It is sourced from the 'R_COMMENT' column in the 'STG_CUSTOMER' stage table.
          - The data type is VARCHAR(152).
          - Providing additional context or details about the region name, such as regional characteristics or specific attributes.
          - Useful for providing detailed regional context in customer-related reports.
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ec30d2d0-4913-460a-87b3-c5fac040d8fa
                stepCounter: bb85bb6f-fbc5-4dc3-ac3d-f5deaaca9e88
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 1f2d9689-3815-41fc-a944-5d7972e72fe2
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: |-
          - This column is a system-generated version number for each record.
          - It indicates the number of times a record has been updated.
          - Since it is system-generated, it does not have a source column.
          - It's part of the system's versioning mechanism to track changes over time.
          - Useful for auditing and historical analysis of data changes.
        isSystemVersion: true
        name: SYSTEM_VERSION
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 356786c3-fa7f-4552-8334-dbae514dc934
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: |-
          - This column is a system-generated flag indicating whether a record is the current version.
          - It is used to identify the most recent and active record for a given entity.
          - Since it is system-generated, it does not have a source column.
          - It helps in retrieving the latest state of a record without needing to query historical data.
          - Useful for reporting and applications that require only the most up-to-date information.
        isSystemCurrentFlag: true
        name: SYSTEM_CURRENT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 28051472-35b8-4159-98db-4e2ba6b112b6
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: |-
          - This column is a system-generated timestamp indicating the start date and time when a record became valid.
          - It is generated using the 'CURRENT_TIMESTAMP' function.
          - Since it is system-generated, it does not have a source column.
          - It's part of the system's temporal data management, capturing when a record's state began.
          - This is useful for tracking the history of records and performing time-based analysis.
        isSystemStartDate: true
        name: SYSTEM_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 69800695-c177-4b3b-927e-7d768c5f1105
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: |-
          - This column is a system-generated timestamp indicating the end date and time when a record is no longer valid.
          - It is defaulted to '2999-12-31 00:00:00' to represent an open-ended or currently valid record.
          - Since it is system-generated, it does not have a source column.
          - It's part of the system's temporal data management, capturing when a record's state ended.
          - Used in conjunction with the start date to define the period a record was active.
        isSystemEndDate: true
        name: SYSTEM_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST('2999-12-31 00:00:00' AS TIMESTAMP)
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: e935db90-6998-4a66-b05d-12bd6432757f
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: |-
          - This column is a system-generated timestamp indicating when the record was initially created.
          - It is generated using the 'CURRENT_TIMESTAMP' function.
          - Since it is system-generated, it does not have a source column.
          - It's used for auditing and tracking the creation time of records.
          - Useful for identifying data origination and can be used for data quality monitoring.
        isSystemCreateDate: true
        name: SYSTEM_CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 4d9715bc-40a0-4400-ad18-01b606739ec6
          stepCounter: 867102b6-92b8-41fb-98dc-9bd3c910fc3e
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: |-
          - This column is a system-generated timestamp indicating the last time the record was updated.
          - It is generated using the 'CURRENT_TIMESTAMP' function.
          - Since it is system-generated, it does not have a source column.
          - It's used for auditing and tracking the modification time of records.
          - Useful for identifying the most recent changes to a record and can be used for data quality monitoring.
        isSystemUpdateDate: true
        name: SYSTEM_UPDATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TARGET
            nodeName: STG_CUSTOMER
        join:
          joinCondition: FROM {{ ref('TARGET', 'STG_CUSTOMER') }} "STG_CUSTOMER"
        name: DIM_CUSTOMER
        noLinkRefs: []
  name: DIM_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: "38"
  type: sql
  version: 1
type: Node
