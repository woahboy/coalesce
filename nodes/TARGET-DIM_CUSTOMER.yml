fileVersion: 1
id: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
name: DIM_CUSTOMER
operation:
  config:
    postSQL: ""
    preSQL: ""
    testsEnabled: true
  database: ""
  deployEnabled: true
  description: Creates or replaces the DIM_CUSTOMER dimension table and merges data from the STG_CUSTOMER staging table into it, handling Type 2 dimension changes and non-Type 2 column updates.
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 7dcaf1d6-ea76-4b53-baea-017b19e0880d
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: ""
        isSurrogateKey: true
        name: DIM_CUSTOMER_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 4449541c-4804-472e-bd45-603a6ea06842
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: NUMBER
        description: ""
        isBusinessKey: true
        name: C_CUSTKEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 75322001-f0ae-45f6-b497-0c59a9d96202
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c3c11bc2-5f3d-4245-b2d9-d368eb118361
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: ""
        isChangeTracking: true
        name: C_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 337585bc-066e-429d-b3f1-3a62dc449771
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 60771291-75af-4ac6-90c5-629d29fc2e87
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: ""
        isChangeTracking: true
        name: C_ADDRESS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 460ec8fd-343a-4e31-8371-1d40730e240a
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 99513675-422f-4e91-a948-d2ab0514ca43
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: |-
          - This column stores the phone number of the customer, sourced from the 'C_PHONE' column in the 'STG_CUSTOMER' staging table.
          - It serves as a contact method and can be used for communication purposes.
          - The phone number is a descriptive attribute that helps in reaching out to customers.
          - It is utilized in customer service applications and marketing campaigns.
        name: C_PHONE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 143856ea-4c5c-499c-85dc-5e8b0e8eb52d
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2faf555d-27ea-4a5a-b223-64718f5d2abf
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: NUMBER
        description: ""
        name: C_ACCTBAL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 39bb989a-d967-4dd7-b449-c2e1d7f7efc2
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 05e7af98-bf5b-44fa-9c70-9fc780530787
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eeb48bea-a841-44bf-a953-753bf4827ba7
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 50f83a1a-79d9-4b20-b3c3-bfd11597e8f5
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: |-
          -	This column stores a value associated with the customer.
          -	It is sourced from the 'C_VALUE' column in the 'STG_CUSTOMER' staging table.
          -	The exact meaning of this column depends on the source system and business context.
          -	It could represent a customer's lifetime value, potential revenue, or other relevant metric.
          -	Further investigation of the source system may be required to fully understand its purpose.
        name: C_VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0ce13a69-f0c5-4e41-8546-f64dc6c5e1e8
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 197e9c42-384f-460a-84af-8b1f3eb36cba
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: ""
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ea81ed0d-e5ce-460b-b646-60742ae2acfa
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c7102d8c-f3b3-4f63-bbac-c9b5fa7f15a8
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: ""
        name: N_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: fbd169a9-4f10-4cb6-9bbd-a0a42ce0c424
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5884d7b2-b24e-46ee-958d-1c2f50f360cc
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: ""
        name: N_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2513c1d9-2c87-4583-8a1c-eb18acf76e45
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 60092eb2-0f99-4834-89f4-d8b93f362a95
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: ""
        name: R_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 21b49977-af3b-476e-ae5d-3f4bdbdcd9ad
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bbfdc474-7fac-4975-9055-0947d6690e4e
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        description: ""
        name: R_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 625c557c-de67-41ce-8ac8-2215489782bb
                stepCounter: 4e11f20a-1465-4e83-828f-addc45206395
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 7fdc6983-292e-4a9e-880d-e45009a320ca
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: NUMBER
        defaultValue: ""
        description: ""
        isSystemVersion: true
        name: SYSTEM_VERSION
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3a9aca92-55ef-410e-8ba8-ef8222409319
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: VARCHAR
        defaultValue: ""
        description: ""
        isSystemCurrentFlag: true
        name: SYSTEM_CURRENT_FLAG
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 2ed7ffc1-b6d8-446b-a906-8ac7effa4810
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        isSystemStartDate: true
        name: SYSTEM_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 6bc26933-f257-4005-a291-236d4790fdb5
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        isSystemEndDate: true
        name: SYSTEM_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST('2999-12-31 00:00:00' AS TIMESTAMP)
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d2c13267-0de7-4878-9fe1-6b74e1851005
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        isSystemCreateDate: true
        name: SYSTEM_CREATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 9bd1448c-b662-4991-a7a6-933095171f4a
          stepCounter: 31b82ad4-0c3f-484d-bca0-f3a16f2e1349
        config: {}
        dataType: TIMESTAMP
        defaultValue: ""
        description: ""
        isSystemUpdateDate: true
        name: SYSTEM_UPDATE_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: CAST(CURRENT_TIMESTAMP AS TIMESTAMP)
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TARGET
            nodeName: STG_CUSTOMER
        join:
          joinCondition: FROM {{ ref('TARGET', 'STG_CUSTOMER') }} "STG_CUSTOMER"
        name: DIM_CUSTOMER
        noLinkRefs: []
  name: DIM_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Dimension
  type: sql
  version: 1
type: Node
