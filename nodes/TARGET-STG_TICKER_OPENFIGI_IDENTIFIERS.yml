fileVersion: 1
id: 98c66522-67af-43c3-9270-2d4c6730b88e
name: STG_TICKER_OPENFIGI_IDENTIFIERS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: |-
    Characteristics for nearly 100k companies, including EIN, CIK, LEI, address information, industry descriptions, and more, with start and end date ranges, by Cybersyn's COMPANY_ID. This table serves as a compliment to the company_index table, which is the spine for Cybersyn data that involves company-level identifiers.

    Provides a long format overview of characteristics associated with a particular COMPANY_ID.

    This table includes a unique ID for each company (COMPANY_ID) and associated categorical characteristics (EIN, CIK, LEI, address information, industry descriptions, and more). A characteristic may be temporal with start and end dates indicating the range for which the data is valid.
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1879ec54-24aa-4a9e-9d97-b2b88980ff87
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(32)
        description: Unique identifier assigned by Cybersyn to each company.
        name: COMPANY_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5273edb9-3102-43e7-964d-8a9e91ee2426
                stepCounter: 76993c71-b7e5-4e61-81e0-8c71eb730dad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 37662961-33f8-47d7-95bf-7b9cba8a4779
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: The name of the company.
        name: COMPANY_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 121fd23b-e7e6-4003-9190-3d2a2da8f1b1
                stepCounter: 76993c71-b7e5-4e61-81e0-8c71eb730dad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d8cd5c7f-7bfe-4f9b-adc2-41e9df083795
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: Specifies the kind of relationship or characteristic that is being reported in the VALUE field.
        name: RELATIONSHIP_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dd5c34f1-dd13-42d8-814c-f63272dd1182
                stepCounter: 76993c71-b7e5-4e61-81e0-8c71eb730dad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5f89414f-8eb6-4117-87c8-3d6cde453fde
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: The value related to the relationship type or characteristics specified.
        name: VALUE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e0185a7f-385e-4bff-8fd9-f47271fa77e3
                stepCounter: 76993c71-b7e5-4e61-81e0-8c71eb730dad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5cda9648-da4b-488d-8bbf-aa4e331819e4
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: DATE
        description: The beginning of characteristics taking effect for a given company. In cases where a characteristic pre-dates the beginning of the data, a start date of NULL is assigned.
        name: RELATIONSHIP_START_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 93bc0780-c81d-43e0-a4fe-eca3b9a64c5b
                stepCounter: 76993c71-b7e5-4e61-81e0-8c71eb730dad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a7cbc96d-6405-4350-b9bd-6855e7452c72
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: DATE
        description: The ending of characteristics being valid for a given company. In cases where a characteristic is currently valid, an end date of NULL is assigned.
        name: RELATIONSHIP_END_DATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c0192f13-2777-4898-8b23-6fe2aed6e9b2
                stepCounter: 76993c71-b7e5-4e61-81e0-8c71eb730dad
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: de7b2ebc-41de-4d71-8f65-49635be39c78
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: The type of ID that is provided in the SECURITY_ID column. Examples of different ID types include OpenFIGI FIGI ID, OpenFIGI Share Class ID, PermID Security ID, and others.
        name: SECURITY_ID_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5b384663-ebb9-4526-9f66-9c6da1aea025
                stepCounter: 2f192bc3-23c3-49be-a04e-9e671d7f1118
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 67507171-9360-4ef1-b8a9-63e9d4204d9e
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: Unique identifier for a particular security.
        name: SECURITY_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b690cb0a-0bf0-44cf-91e6-a8f50cf884e5
                stepCounter: 2f192bc3-23c3-49be-a04e-9e671d7f1118
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 04b64410-80fe-404e-8883-22f2c0dd2e76
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: Name of the security.
        name: SECURITY_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e9f596ee-e4a8-41d5-9418-dcb0a3cc6d5d
                stepCounter: 2f192bc3-23c3-49be-a04e-9e671d7f1118
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c2563c98-cb34-477a-ad0a-d016483a4e16
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: The ticker for the primary trading venue of a security. If a security trades on multiple exchanges or has numerous tickers, an attempt is made to select the ticker from the home market.
        name: PRIMARY_TICKER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 422fe4e6-02ca-4f92-9398-ab5f65590fa5
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dc19f083-0e14-4791-8a96-cc8f3d10ac27
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: Name of the security.
        name: SECURITY_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f2865cd1-bd35-4a15-8e11-605857a6e530
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 43ef70fc-bc0b-4da5-850b-63c15e59c444
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: Broad-based class of the asset, such as 'Equity', 'Muni', etc.
        name: ASSET_CLASS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eebe5817-80c4-48fd-8f7e-23ff3085a2af
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 49419428-c6a4-432e-b5b0-2e6f93342623
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: ARRAY
        description: Codes representing the exchanges where the security is traded. An empty array means that exchange information is not available.
        name: EXCHANGE_CODES
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a7a00ca1-31cb-4f4f-b173-c6e6b71c3941
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 96b0913b-60d1-49d3-a494-9083666df2d8
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: ARRAY
        description: An array of ticker symbols under which the security may be traded globally on all exchanges.
        name: GLOBAL_TICKERS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7aaa2e3f-306f-40ac-825e-28028a6e6f14
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 37dc3cf0-a3e3-41ce-8d8a-e8cf00fbca39
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: ARRAY
        description: Array of the FIGI (Financial Instrument Global Identifier) ID(s) for the security. In cases where there is a share class FIGI (global ID) or composite FIGI (country-level ID) because a security trades across multiple countries or exchanges, there may be multiple FIGI IDs associated with a single security.
        name: OPENFIGI_FIGI_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 2fe8d912-a755-461b-820f-27e1de2ba931
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f57e4d1e-a535-4f2b-b713-976c1943a870
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: ARRAY
        description: Array of the country-level composite FIGI ID(s) for the security. In cases where there is a share class FIGI (global ID) and the security is tradable in more than one country there may be multiple composite IDs associated with a single security.
        name: OPENFIGI_COMPOSITE_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5a35d74b-d21e-4406-a0e8-a4ebc3fd33ee
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8e02bca2-5131-434d-b5ba-23c8db7d6c0e
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: ARRAY
        description: The global share class FIGI ID(s) for the security. This is meant to be the most broad classification in the FIGI classification hierarchy.
        name: OPENFIGI_SHARE_CLASS_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6f5b918f-a641-4cf1-9c7f-96092ab51ea4
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d85e3ae8-5a33-4bc7-b3ff-a3da1c4f1bda
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: ARRAY
        description: Sub-type of the security, providing further classification. Like SECURITY_TYPE, securities can also have multiple subtypes.
        name: SECURITY_SUBTYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f9bfded6-7341-4b2d-9726-223e2f36d1d2
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5a1c4ef3-f1c4-4155-927e-591293b7e35c
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: ARRAY
        description: The type of security, such as "Common Stock" for equities. Securities can fall into multiple categories such as when a company has both tradable shares of Common Stock and an ADR.
        name: SECURITY_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6522dba9-8648-4de2-9057-04cc26dd93a7
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 96a021d7-f88c-4319-853a-424dcfb0e57e
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(16777216)
        description: OpenFIGI ID of the highest, most widely encompassing level for a particular security. The hierarchy follows the order "share class FIGI" (global) > "composite FIGI" (country-level) > "FIGI" (exchange-level).
        name: TOP_LEVEL_OPENFIGI_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: e56e05df-cf3b-4fc4-8d84-53e9d43cc0ab
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d089676b-8d1c-4f0c-a861-bbfede148536
          stepCounter: 98c66522-67af-43c3-9270-2d4c6730b88e
        config: {}
        dataType: VARCHAR(23)
        description: The highest level of the OpenFIGI ID in the hierarchy for the security held. The hierarchy follows the order "share class FIGI" (global) > "composite FIGI" (country-level) > "FIGI" (exchange-level). For example, if the highest level of ID (recorded in TOP_LEVEL_OPENFIGI_ID) is the composite FIGI, then this will be equal to 'openfigi_composite_id'.
        name: TOP_LEVEL_OPENFIGI_ID_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 12569643-9e8b-4768-b33e-313fec69fb9a
                stepCounter: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STG_COMPANY_CHARACTERISTICS: 76993c71-b7e5-4e61-81e0-8c71eb730dad
          STG_COMPANY_SECURITY_RELATIONSHIPS: 2f192bc3-23c3-49be-a04e-9e671d7f1118
          STG_OPENFIGI_SECURITY_INDEX: 755b707e-c4e5-4b30-a46b-6cd1f16606c7
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: TARGET
            nodeName: STG_COMPANY_CHARACTERISTICS
          - locationName: TARGET
            nodeName: STG_COMPANY_SECURITY_RELATIONSHIPS
          - locationName: TARGET
            nodeName: STG_OPENFIGI_SECURITY_INDEX
        join:
          joinCondition: |-
            FROM {{ ref('TARGET', 'STG_COMPANY_CHARACTERISTICS') }} "STG_COMPANY_CHARACTERISTICS"
            INNER JOIN {{ ref('TARGET', 'STG_COMPANY_SECURITY_RELATIONSHIPS') }} "STG_COMPANY_SECURITY_RELATIONSHIPS"
            ON "STG_COMPANY_CHARACTERISTICS"."COMPANY_ID" = "STG_COMPANY_SECURITY_RELATIONSHIPS"."COMPANY_ID"
            INNER JOIN {{ ref('TARGET', 'STG_OPENFIGI_SECURITY_INDEX') }} "STG_OPENFIGI_SECURITY_INDEX"
            ON "STG_COMPANY_SECURITY_RELATIONSHIPS"."SECURITY_ID" = "STG_OPENFIGI_SECURITY_INDEX"."SECURITY_TYPE"
        name: STG_TICKER_OPENFIGI_IDENTIFIERS
        noLinkRefs: []
  name: STG_TICKER_OPENFIGI_IDENTIFIERS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
