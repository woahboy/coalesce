fileVersion: 1
id: 2f192bc3-23c3-49be-a04e-9e671d7f1118
name: STG_COMPANY_SECURITY_RELATIONSHIPS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: |-
    Map between companies and the securities (stocks, bonds, etc.) they issue, including security identifiers from common open sources, including OpenFIGI and PermID. Maps to Cybersyn's company index.

    OpenFIGI and PermID both provide unique identifier systems for entities in the financial world, enhancing data standardization and integration. OpenFIGI (Open Financial Instrument Global Identifier) assigns codes primarily to financial instruments and related entities for improved transparency and efficiency in the global markets, while PermID (Permanent Identifier) by Refinitiv offers unique, machine-readable identifiers to a wide array of data elements including companies, securities, and financial instruments, facilitating consistent data management and interoperability across different systems and platforms in finance.

    Provides a map between COMPANY_ID and associated SECURITY_IDs. Securities can have multiple 'levels' associated with one company identifier, such as the PERMID_QUOTE_ID, PERMID_SECURITY_ID, OPENFIGI_SHARE_CLASS_ID, OPENFIGI_COMPOSITE_ID, and OPENFIGI_FIGI_ID.

    The PermID Quote ID is an identifier from Refinitiv's PermID system used specifically for quoting purposes. It's linked to the data needed for pricing and quoting a security, such as current stock price, rather than the security's intrinsic characteristics.

    The PermID Security ID is an identifier from Refinitiv's PermID system that uniquely identifies individual securities (like stocks or bonds) associated with a company. It focuses on the specific security rather than the broader entity.

    The OpenFIGI Composite ID is an identifier from the Bloomberg OpenFIGI system that aggregates all securities (across different markets or exchanges) that are considered part of the same overall listing for a company, providing a composite view of that company's security across markets.

    The OpenFIGI Share Class ID is an identifier from the Bloomberg OpenFIGI system that distinguishes different classes of shares (such as Class A, Class B, etc.) issued by a company. Different share classes may have varying voting rights, dividend policies, or other characteristics.

    The OpenFIGI FIGI ID is a unique identifier for any financial instrument itself, not limited to shares. It covers a wider range of securities, such as bonds, derivatives, and others.
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 62082d5e-d5c6-4d7d-a40e-b9a55208577e
          stepCounter: 2f192bc3-23c3-49be-a04e-9e671d7f1118
        config: {}
        dataType: VARCHAR(16777216)
        description: Unique identifier assigned by Cybersyn to each company.
        name: COMPANY_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: db9ba91d-e1fd-410b-b818-6710c728f42f
                stepCounter: 331ef239-692c-41a4-b26f-455240001ce0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 10ac96cb-e68a-4fa5-8c68-c6e058cf8c6a
          stepCounter: 2f192bc3-23c3-49be-a04e-9e671d7f1118
        config: {}
        dataType: VARCHAR(16777216)
        description: The name of the company.
        name: COMPANY_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b4dfa09b-fe77-4abc-8c8e-4977f02c3475
                stepCounter: 331ef239-692c-41a4-b26f-455240001ce0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 5b384663-ebb9-4526-9f66-9c6da1aea025
          stepCounter: 2f192bc3-23c3-49be-a04e-9e671d7f1118
        config: {}
        dataType: VARCHAR(16777216)
        description: The type of ID that is provided in the SECURITY_ID column. Examples of different ID types include OpenFIGI FIGI ID, OpenFIGI Share Class ID, PermID Security ID, and others.
        name: SECURITY_ID_TYPE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5bc3a9e-f4f1-482d-8518-0ad90cbabfe6
                stepCounter: 331ef239-692c-41a4-b26f-455240001ce0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b690cb0a-0bf0-44cf-91e6-a8f50cf884e5
          stepCounter: 2f192bc3-23c3-49be-a04e-9e671d7f1118
        config: {}
        dataType: VARCHAR(16777216)
        description: Unique identifier for a particular security.
        name: SECURITY_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: abc859db-8f53-4c26-916c-99bfb002a55c
                stepCounter: 331ef239-692c-41a4-b26f-455240001ce0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e9f596ee-e4a8-41d5-9418-dcb0a3cc6d5d
          stepCounter: 2f192bc3-23c3-49be-a04e-9e671d7f1118
        config: {}
        dataType: VARCHAR(16777216)
        description: Name of the security.
        name: SECURITY_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3055f583-6b49-4a28-9e6a-02f722b0e7bd
                stepCounter: 331ef239-692c-41a4-b26f-455240001ce0
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SRC_SEC_FILINGS
            nodeName: COMPANY_SECURITY_RELATIONSHIPS
        join:
          joinCondition: FROM {{ ref('SRC_SEC_FILINGS', 'COMPANY_SECURITY_RELATIONSHIPS') }} "COMPANY_SECURITY_RELATIONSHIPS"
        name: STG_COMPANY_SECURITY_RELATIONSHIPS
        noLinkRefs: []
  name: STG_COMPANY_SECURITY_RELATIONSHIPS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
