fileVersion: 1
id: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
name: V_NODE
operation:
  config:
    insertStrategy: UNION
    selectDistinct: false
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: a4ebef5c-dc4f-4229-ae79-bf1e81cd3a05
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: NUMBER(38,0)
        defaultValue: ""
        description: ""
        name: C_CUSTKEY
        nullable: false
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: dc88083c-ca88-4266-860b-b115a5b5c7ed
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: C_NAME
        nullable: false
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 66ca4210-f744-4ba5-914e-355b97916e9a
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(40)
        defaultValue: ""
        description: ""
        name: C_ADDRESS
        nullable: false
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: fb4e49f0-49c5-4299-94bd-3830a7ff8f72
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(15)
        defaultValue: ""
        description: ""
        name: C_PHONE
        nullable: false
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 41ff9e12-0212-4035-9224-8fa71856e97f
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: NUMBER(12,2)
        defaultValue: ""
        description: ""
        name: C_ACCTBAL
        nullable: false
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 16f36ef6-a409-4b65-8091-f93650fdc339
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(10)
        defaultValue: ""
        description: ""
        name: C_MKTSEGMENT
        nullable: true
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: bd781ac0-f783-414f-823e-d43b93eb87f7
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(4)
        defaultValue: ""
        description: ""
        name: C_VALUE
        nullable: true
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 9cf7dc78-5972-4338-8410-22f1e3660f71
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(117)
        defaultValue: ""
        description: ""
        name: C_COMMENT
        nullable: true
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3b13ec89-de77-4292-a25e-08d8590bbc49
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: N_NAME
        nullable: false
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 2702915c-5ce1-4082-aff1-b1fc36315cb7
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(152)
        defaultValue: ""
        description: ""
        name: N_COMMENT
        nullable: true
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: f0ca5795-a621-497a-bf4e-d5e4f7b71d44
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(25)
        defaultValue: ""
        description: ""
        name: R_NAME
        nullable: false
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d1adba9a-dc40-4cf2-8f32-5e7b7dd5c191
          stepCounter: 88a72b53-efd1-4b81-bc7c-7fd47b8405f1
        config: {}
        dataType: VARCHAR(152)
        defaultValue: ""
        description: ""
        name: R_COMMENT
        nullable: true
        primaryKey: false
        sourceColumnReferences:
          - columnReferences: []
            transform: ""
        transform: ""
        uniqueKey: false
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: |-
            {{ stage('Override Create SQL') }}
            	CREATE OR REPLACE VIEW {{ ref('TARGET', 'V_NODE')}} AS (
            		SELECT "CUSTOMER"."C_CUSTKEY" AS "C_CUSTKEY",
              "CUSTOMER"."C_NAME" AS "C_NAME",
              "CUSTOMER"."C_ADDRESS" AS "C_ADDRESS",
              "CUSTOMER"."C_PHONE" AS "C_PHONE",
              "CUSTOMER"."C_ACCTBAL" AS "C_ACCTBAL",
              "CUSTOMER"."C_MKTSEGMENT" AS "C_MKTSEGMENT",
              CASE
                WHEN "CUSTOMER"."C_ACCTBAL" > 5000
                AND "CUSTOMER"."C_MKTSEGMENT" IN ('BUILDING', 'HOUSEHOLD') THEN 'High'
                ELSE 'Low'
              END AS "C_VALUE",	
              "CUSTOMER"."C_COMMENT" AS "C_COMMENT",
              "NATION"."N_NAME" AS "N_NAME",
              "NATION"."N_COMMENT" AS "N_COMMENT",
              "REGION"."R_NAME" AS "R_NAME",
              "REGION"."R_COMMENT" AS "R_COMMENT"
            FROM {{ ref('SOURCE_TPCH', 'CUSTOMER') }} "CUSTOMER"
              INNER JOIN {{ ref('SOURCE_TPCH', 'NATION') }} "NATION" ON "CUSTOMER"."C_NATIONKEY" = "NATION"."N_NATIONKEY"
              INNER JOIN {{ ref('SOURCE_TPCH', 'REGION') }} "REGION" ON "NATION"."N_REGIONKEY" = "REGION"."R_REGIONKEY"
            )
        dependencies: []
        join:
          joinCondition: ""
        name: V_NODE
        noLinkRefs: []
  name: V_NODE
  overrideSQL: true
  schema: ""
  sqlType: View
  type: sql
  version: 1
type: Node
